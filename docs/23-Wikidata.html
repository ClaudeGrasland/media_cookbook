<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Wikidata | The media cookbook</title>
  <meta name="description" content="A reminder of some experiments made in 2021" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Wikidata | The media cookbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A reminder of some experiments made in 2021" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Wikidata | The media cookbook" />
  
  <meta name="twitter:description" content="A reminder of some experiments made in 2021" />
  

<meta name="author" content="Claude Grasland" />


<meta name="date" content="2021-10-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="22-mediacloud_to_quanteda.html"/>
<link rel="next" href="24-Hypercube.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/d3v6-6.2.0/d3.v6.min.js"></script>
<script src="libs/d3v6-6.2.0/d3-legend.min.js"></script>
<script src="libs/d3v6-6.2.0/d3-labeler.js"></script>
<link href="libs/d3.lasso-plugin-1.0.0/lasso.css" rel="stylesheet" />
<script src="libs/d3.lasso-plugin-1.0.0/lasso.js"></script>
<link href="libs/scatterD3-0.9.2/scatterD3.css" rel="stylesheet" />
<script src="libs/scatterD3-0.9.2/scatterD3-utils.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-scales.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-dims.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-menu.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-axes.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-dots.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-arrows.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-labels.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-labels-lines.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-lines.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-ellipses.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-zoom.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-legend.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-lasso.js"></script>
<script src="libs/scatterD3-0.9.2/scatterD3-exports.js"></script>
<script src="libs/scatterD3-binding-0.9.2/scatterD3.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">The Media Cookbook  <em>C. Grasland (2021)</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="21-corpus-mediacloud.html"><a href="21-corpus-mediacloud.html"><i class="fa fa-check"></i><b>2</b> Import from Media Cloud</a>
<ul>
<li class="chapter" data-level="2.1" data-path="21-corpus-mediacloud.html"><a href="21-corpus-mediacloud.html#selection-of-media-with-source-manager"><i class="fa fa-check"></i><b>2.1</b> Selection of media with source manager</a></li>
<li class="chapter" data-level="2.2" data-path="21-corpus-mediacloud.html"><a href="21-corpus-mediacloud.html#checking-the-stability-through-time"><i class="fa fa-check"></i><b>2.2</b> Checking the stability through time</a></li>
<li class="chapter" data-level="2.3" data-path="21-corpus-mediacloud.html"><a href="21-corpus-mediacloud.html#selection-of-news-specifically-related-to-a-topic-option"><i class="fa fa-check"></i><b>2.3</b> Selection of news specifically related to a topic (option)</a></li>
<li class="chapter" data-level="2.4" data-path="21-corpus-mediacloud.html"><a href="21-corpus-mediacloud.html#download-and-storage-of-news"><i class="fa fa-check"></i><b>2.4</b> Download and storage of news</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html"><i class="fa fa-check"></i><b>3</b> Creation of a quanteda corpus</a>
<ul>
<li class="chapter" data-level="3.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#example"><i class="fa fa-check"></i><b>3.1</b> Example</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#importation-of-text-to-r"><i class="fa fa-check"></i><b>3.1.1</b> Importation of text to R</a></li>
<li class="chapter" data-level="3.1.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#encoding-problems"><i class="fa fa-check"></i><b>3.1.2</b> encoding problems</a></li>
<li class="chapter" data-level="3.1.3" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#transformation-in-quanteda-format"><i class="fa fa-check"></i><b>3.1.3</b> Transformation in quanteda format</a></li>
<li class="chapter" data-level="3.1.4" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#storage-of-the-quanteda-object"><i class="fa fa-check"></i><b>3.1.4</b> Storage of the quanteda object</a></li>
<li class="chapter" data-level="3.1.5" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#backtransformation-of-quanteda-to-data.table-or-tibble"><i class="fa fa-check"></i><b>3.1.5</b> Backtransformation of quanteda to data.table or tibble</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#germany"><i class="fa fa-check"></i><b>3.2</b> Germany</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#frankfurter-allgemeine-zeitung"><i class="fa fa-check"></i><b>3.2.1</b> Frankfurter Allgemeine Zeitung</a></li>
<li class="chapter" data-level="3.2.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#süddeutsche-zeitung"><i class="fa fa-check"></i><b>3.2.2</b> Süddeutsche Zeitung</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#france"><i class="fa fa-check"></i><b>3.3</b> France</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#le-figaro"><i class="fa fa-check"></i><b>3.3.1</b> Le Figaro</a></li>
<li class="chapter" data-level="3.3.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#le-monde"><i class="fa fa-check"></i><b>3.3.2</b> Le Monde</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#royaume-uni"><i class="fa fa-check"></i><b>3.4</b> Royaume-Uni</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#the-guardian"><i class="fa fa-check"></i><b>3.4.1</b> The Guardian</a></li>
<li class="chapter" data-level="3.4.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#the-daily-telegraph"><i class="fa fa-check"></i><b>3.4.2</b> The Daily Telegraph</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#ireland"><i class="fa fa-check"></i><b>3.5</b> Ireland</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#the-irish-time"><i class="fa fa-check"></i><b>3.5.1</b> The Irish Time</a></li>
<li class="chapter" data-level="3.5.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#the-belfast-telegraph"><i class="fa fa-check"></i><b>3.5.2</b> The Belfast Telegraph</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#turkey"><i class="fa fa-check"></i><b>3.6</b> Turkey</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#the-yeni-sati"><i class="fa fa-check"></i><b>3.6.1</b> The Yeni Sati</a></li>
<li class="chapter" data-level="3.6.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#cumhuryet"><i class="fa fa-check"></i><b>3.6.2</b> Cumhuryet</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#tunisia"><i class="fa fa-check"></i><b>3.7</b> Tunisia</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#réalités"><i class="fa fa-check"></i><b>3.7.1</b> Réalités</a></li>
<li class="chapter" data-level="3.7.2" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#léconomiste-maghrebin"><i class="fa fa-check"></i><b>3.7.2</b> L’économiste Maghrebin</a></li>
<li class="chapter" data-level="3.7.3" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#la-presse"><i class="fa fa-check"></i><b>3.7.3</b> La Presse</a></li>
<li class="chapter" data-level="3.7.4" data-path="22-mediacloud_to_quanteda.html"><a href="22-mediacloud_to_quanteda.html#babnet"><i class="fa fa-check"></i><b>3.7.4</b> Babnet</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="23-Wikidata.html"><a href="23-Wikidata.html"><i class="fa fa-check"></i><b>4</b> Wikidata</a>
<ul>
<li class="chapter" data-level="4.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="23-Wikidata.html"><a href="23-Wikidata.html#wikidata"><i class="fa fa-check"></i><b>4.2</b> Wikidata</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#codification-of-entities"><i class="fa fa-check"></i><b>4.2.1</b> Codification of entities</a></li>
<li class="chapter" data-level="4.2.2" data-path="23-Wikidata.html"><a href="23-Wikidata.html#informations-on-entities"><i class="fa fa-check"></i><b>4.2.2</b> Informations on entities</a></li>
<li class="chapter" data-level="4.2.3" data-path="23-Wikidata.html"><a href="23-Wikidata.html#wikipedia-entities-as-nodes-of-an-ontolongy"><i class="fa fa-check"></i><b>4.2.3</b> Wikipedia entities as nodes of an ontolongy</a></li>
<li class="chapter" data-level="4.2.4" data-path="23-Wikidata.html"><a href="23-Wikidata.html#a-tool-for-cross-linguistical-experiments"><i class="fa fa-check"></i><b>4.2.4</b> A tool for cross-linguistical experiments</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="23-Wikidata.html"><a href="23-Wikidata.html#the-package-wikidatar"><i class="fa fa-check"></i><b>4.3</b> The package WikidataR</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#basic-operations"><i class="fa fa-check"></i><b>4.3.1</b> Basic operations</a></li>
<li class="chapter" data-level="4.3.2" data-path="23-Wikidata.html"><a href="23-Wikidata.html#elaboration-of-a-cross_linguistic-dictionnary"><i class="fa fa-check"></i><b>4.3.2</b> Elaboration of a cross_linguistic dictionnary</a></li>
<li class="chapter" data-level="4.3.3" data-path="23-Wikidata.html"><a href="23-Wikidata.html#extraction-of-aliases"><i class="fa fa-check"></i><b>4.3.3</b> Extraction of aliases</a></li>
<li class="chapter" data-level="4.3.4" data-path="23-Wikidata.html"><a href="23-Wikidata.html#conclusion"><i class="fa fa-check"></i><b>4.3.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="23-Wikidata.html"><a href="23-Wikidata.html#dictionary-of-world-regions"><i class="fa fa-check"></i><b>4.4</b> Dictionary of world regions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#load-the-list-of-world-regions"><i class="fa fa-check"></i><b>4.4.1</b> Load the list of world regions</a></li>
<li class="chapter" data-level="4.4.2" data-path="23-Wikidata.html"><a href="23-Wikidata.html#extract-définitions"><i class="fa fa-check"></i><b>4.4.2</b> Extract définitions</a></li>
<li class="chapter" data-level="4.4.3" data-path="23-Wikidata.html"><a href="23-Wikidata.html#extract-aliases-and-create-dictionary"><i class="fa fa-check"></i><b>4.4.3</b> Extract aliases and create dictionary</a></li>
<li class="chapter" data-level="4.4.4" data-path="23-Wikidata.html"><a href="23-Wikidata.html#extract-dictionary-of-control-units"><i class="fa fa-check"></i><b>4.4.4</b> Extract dictionary of control units</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="23-Wikidata.html"><a href="23-Wikidata.html#detection-of-world-regions"><i class="fa fa-check"></i><b>4.5</b> Detection of world regions</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#example-of-le-figaro-fr_fra_figaro"><i class="fa fa-check"></i><b>4.5.1</b> Example of “Le Figaro” (fr_FRA_figaro)</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="23-Wikidata.html"><a href="23-Wikidata.html#tagging-function"><i class="fa fa-check"></i><b>4.6</b> Tagging function</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="23-Wikidata.html"><a href="23-Wikidata.html#le-figaro-1"><i class="fa fa-check"></i><b>4.6.1</b> Le Figaro</a></li>
<li class="chapter" data-level="4.6.2" data-path="23-Wikidata.html"><a href="23-Wikidata.html#le-monde-1"><i class="fa fa-check"></i><b>4.6.2</b> Le Monde</a></li>
<li class="chapter" data-level="4.6.3" data-path="23-Wikidata.html"><a href="23-Wikidata.html#faz"><i class="fa fa-check"></i><b>4.6.3</b> FAZ</a></li>
<li class="chapter" data-level="4.6.4" data-path="23-Wikidata.html"><a href="23-Wikidata.html#süddeutsche-zeitung-1"><i class="fa fa-check"></i><b>4.6.4</b> Süddeutsche Zeitung</a></li>
<li class="chapter" data-level="4.6.5" data-path="23-Wikidata.html"><a href="23-Wikidata.html#guardian"><i class="fa fa-check"></i><b>4.6.5</b> Guardian</a></li>
<li class="chapter" data-level="4.6.6" data-path="23-Wikidata.html"><a href="23-Wikidata.html#daily-telegraph"><i class="fa fa-check"></i><b>4.6.6</b> Daily Telegraph</a></li>
<li class="chapter" data-level="4.6.7" data-path="23-Wikidata.html"><a href="23-Wikidata.html#belfast-telegraph"><i class="fa fa-check"></i><b>4.6.7</b> Belfast Telegraph</a></li>
<li class="chapter" data-level="4.6.8" data-path="23-Wikidata.html"><a href="23-Wikidata.html#irish-times"><i class="fa fa-check"></i><b>4.6.8</b> Irish Times</a></li>
<li class="chapter" data-level="4.6.9" data-path="23-Wikidata.html"><a href="23-Wikidata.html#cumhuryet-1"><i class="fa fa-check"></i><b>4.6.9</b> Cumhuryet</a></li>
<li class="chapter" data-level="4.6.10" data-path="23-Wikidata.html"><a href="23-Wikidata.html#yeni-safak"><i class="fa fa-check"></i><b>4.6.10</b> Yeni Safak</a></li>
<li class="chapter" data-level="4.6.11" data-path="23-Wikidata.html"><a href="23-Wikidata.html#babnet-1"><i class="fa fa-check"></i><b>4.6.11</b> Babnet</a></li>
<li class="chapter" data-level="4.6.12" data-path="23-Wikidata.html"><a href="23-Wikidata.html#réalités-1"><i class="fa fa-check"></i><b>4.6.12</b> Réalités</a></li>
<li class="chapter" data-level="4.6.13" data-path="23-Wikidata.html"><a href="23-Wikidata.html#economiste-maghrebin"><i class="fa fa-check"></i><b>4.6.13</b> Economiste Maghrebin</a></li>
<li class="chapter" data-level="4.6.14" data-path="23-Wikidata.html"><a href="23-Wikidata.html#la-presse-1"><i class="fa fa-check"></i><b>4.6.14</b> La Presse</a></li>
<li class="chapter" data-level="4.6.15" data-path="23-Wikidata.html"><a href="23-Wikidata.html#global-corpus"><i class="fa fa-check"></i><b>4.6.15</b> Global corpus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="24-Hypercube.html"><a href="24-Hypercube.html"><i class="fa fa-check"></i><b>5</b> Hypercube</a>
<ul>
<li class="chapter" data-level="5.1" data-path="24-Hypercube.html"><a href="24-Hypercube.html#objectives"><i class="fa fa-check"></i><b>5.1</b> Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="24-Hypercube.html"><a href="24-Hypercube.html#prepare-data"><i class="fa fa-check"></i><b>5.2</b> Prepare data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="24-Hypercube.html"><a href="24-Hypercube.html#load-corpus-1"><i class="fa fa-check"></i><b>5.2.1</b> Load corpus</a></li>
<li class="chapter" data-level="5.2.2" data-path="24-Hypercube.html"><a href="24-Hypercube.html#load-hypercube-function"><i class="fa fa-check"></i><b>5.2.2</b> Load hypercube function</a></li>
<li class="chapter" data-level="5.2.3" data-path="24-Hypercube.html"><a href="24-Hypercube.html#create-hypercube"><i class="fa fa-check"></i><b>5.2.3</b> Create Hypercube</a></li>
<li class="chapter" data-level="5.2.4" data-path="24-Hypercube.html"><a href="24-Hypercube.html#load-wikidata-entity-names"><i class="fa fa-check"></i><b>5.2.4</b> Load Wikidata entity names</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="24-Hypercube.html"><a href="24-Hypercube.html#world-region"><i class="fa fa-check"></i><b>5.3</b> World Region</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="24-Hypercube.html"><a href="24-Hypercube.html#which-of-news"><i class="fa fa-check"></i><b>5.3.1</b> Which % of news ?</a></li>
<li class="chapter" data-level="5.3.2" data-path="24-Hypercube.html"><a href="24-Hypercube.html#which-regions-are-the-most-mentionned"><i class="fa fa-check"></i><b>5.3.2</b> Which regions are the most mentionned ?</a></li>
<li class="chapter" data-level="5.3.3" data-path="24-Hypercube.html"><a href="24-Hypercube.html#top-regions-by-media"><i class="fa fa-check"></i><b>5.3.3</b> Top regions by media</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="24-Hypercube.html"><a href="24-Hypercube.html#analysis-of-the-media-x-region-table"><i class="fa fa-check"></i><b>5.4</b> Analysis of the Media x Region table</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="24-Hypercube.html"><a href="24-Hypercube.html#matrix-creation"><i class="fa fa-check"></i><b>5.4.1</b> Matrix creation</a></li>
<li class="chapter" data-level="5.4.2" data-path="24-Hypercube.html"><a href="24-Hypercube.html#matrix-selection"><i class="fa fa-check"></i><b>5.4.2</b> Matrix selection</a></li>
<li class="chapter" data-level="5.4.3" data-path="24-Hypercube.html"><a href="24-Hypercube.html#correspondance-analysis"><i class="fa fa-check"></i><b>5.4.3</b> Correspondance analysis</a></li>
<li class="chapter" data-level="5.4.4" data-path="24-Hypercube.html"><a href="24-Hypercube.html#cluster-analysis-1-world-regions"><i class="fa fa-check"></i><b>5.4.4</b> Cluster analysis 1 (world regions)</a></li>
<li class="chapter" data-level="5.4.5" data-path="24-Hypercube.html"><a href="24-Hypercube.html#cluster-analysis-2-medias"><i class="fa fa-check"></i><b>5.4.5</b> Cluster analysis 2 (medias)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="31_geonetworks.html"><a href="31_geonetworks.html"><i class="fa fa-check"></i><b>6</b> Geonetworks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="31_geonetworks.html"><a href="31_geonetworks.html#geotags"><i class="fa fa-check"></i><b>6.1</b> Geotags</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="31_geonetworks.html"><a href="31_geonetworks.html#select-corpus"><i class="fa fa-check"></i><b>6.1.1</b> Select corpus</a></li>
<li class="chapter" data-level="6.1.2" data-path="31_geonetworks.html"><a href="31_geonetworks.html#tokenize-1"><i class="fa fa-check"></i><b>6.1.2</b> Tokenize</a></li>
<li class="chapter" data-level="6.1.3" data-path="31_geonetworks.html"><a href="31_geonetworks.html#identify-geotags"><i class="fa fa-check"></i><b>6.1.3</b> identify geotags</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="31_geonetworks.html"><a href="31_geonetworks.html#hypercubes"><i class="fa fa-check"></i><b>6.2</b> Hypercubes</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="31_geonetworks.html"><a href="31_geonetworks.html#load-data"><i class="fa fa-check"></i><b>6.2.1</b> Load data</a></li>
<li class="chapter" data-level="6.2.2" data-path="31_geonetworks.html"><a href="31_geonetworks.html#hypercube-function"><i class="fa fa-check"></i><b>6.2.2</b> Hypercube Function</a></li>
<li class="chapter" data-level="6.2.3" data-path="31_geonetworks.html"><a href="31_geonetworks.html#build-hypercube"><i class="fa fa-check"></i><b>6.2.3</b> Build hypercube</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="31_geonetworks.html"><a href="31_geonetworks.html#linkages"><i class="fa fa-check"></i><b>6.3</b> Linkages</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="31_geonetworks.html"><a href="31_geonetworks.html#select-links"><i class="fa fa-check"></i><b>6.3.1</b> Select links</a></li>
<li class="chapter" data-level="6.3.2" data-path="31_geonetworks.html"><a href="31_geonetworks.html#create-interaction-matrix"><i class="fa fa-check"></i><b>6.3.2</b> Create interaction matrix</a></li>
<li class="chapter" data-level="6.3.3" data-path="31_geonetworks.html"><a href="31_geonetworks.html#estimate-random-model"><i class="fa fa-check"></i><b>6.3.3</b> Estimate random model</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="31_geonetworks.html"><a href="31_geonetworks.html#visualization"><i class="fa fa-check"></i><b>6.4</b> Visualization</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="31_geonetworks.html"><a href="31_geonetworks.html#function"><i class="fa fa-check"></i><b>6.4.1</b> Function</a></li>
<li class="chapter" data-level="6.4.2" data-path="31_geonetworks.html"><a href="31_geonetworks.html#raw-network"><i class="fa fa-check"></i><b>6.4.2</b> Raw network</a></li>
<li class="chapter" data-level="6.4.3" data-path="31_geonetworks.html"><a href="31_geonetworks.html#preferential-links"><i class="fa fa-check"></i><b>6.4.3</b> Preferential links</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The media cookbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c23_wikidata" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Wikidata</h1>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="23-Wikidata.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb87-2"><a href="23-Wikidata.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb87-3"><a href="23-Wikidata.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WikidataR)</span>
<span id="cb87-4"><a href="23-Wikidata.html#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span></code></pre></div>
<p><strong>Authors</strong> : Claude Grasland &amp; Etienne Toureille</p>
<div id="introduction-1" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>The objective of this short note is to explore the possibility of Wikidata for the production of multilingual dictionaries of world regions and more generally regional imaginations. In order to test the interest of this approach, we will try to produce multilingual dictionaries for the identification of five groups of entities :</p>
<ul>
<li>Europe and its subregions</li>
<li>Africa and its subregions</li>
<li>Asia and its subregions</li>
<li>Mediterranea</li>
<li>Middle East, Near East, Persian Gulf …</li>
</ul>
<p>The dictionary will be established in five languages of interest for the project IMAGEUN :</p>
<ul>
<li>english : applied to media of UK and Ireland</li>
<li>french : applied to media of France and Tunisia</li>
<li>german : applied to media of Germany</li>
<li>turkish : applied to media of Turkey</li>
<li>arabic : applied to media of Tunisia</li>
</ul>
</div>
<div id="wikidata" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Wikidata</h2>
<p><a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">Wikidata</a> defines itself as</p>
<ul>
<li>a free and open knowledge base that can be read and edited by both humans and machines.</li>
<li>as central storage for the structured data of its Wikimedia sister projects including Wikipedia, Wikivoyage, Wiktionary, Wikisource, and others.</li>
<li>a support to many other sites and services beyond just Wikimedia projects! The content of Wikidata is available under a free license, exported using standard formats, and can be interlinked to other open data sets on the linked data web.</li>
</ul>
<div id="codification-of-entities" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Codification of entities</h3>
<p>The first interest of wikidata is to provide unique code of identifications of objects. For example a research about “Africa” will produce a list of different objects characterized by a unique code :</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="23-Wikidata.html#cb88-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;pics/Wikidata001.png&quot;</span>)</span></code></pre></div>
<p><img src="pics/Wikidata001.png" width="353" /></p>
</div>
<div id="informations-on-entities" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Informations on entities</h3>
<p>Once we have selected an entity (e.g. <strong>Q15</strong>) we obtain a new page with more detailed informations in english but also in all other languages available in Wikipedia.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="23-Wikidata.html#cb89-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">&quot;pics/Wikidata002.png&quot;</span>)</span></code></pre></div>
<p><img src="pics/Wikidata002.png" width="500" /></p>
<p>A lot of information are available concerning the entity but, at this stage, the most important ones for our research are :</p>
<ol style="list-style-type: decimal">
<li>the <strong>translation</strong> in different languages</li>
<li>the <strong>equivalent</strong> words or expression in different languages</li>
<li>the <strong>definitions</strong> in different languages</li>
<li>the <strong>ambiguity</strong> of the term in each language and the potential risks of confusion with other entities.</li>
</ol>
<p>Of course we should not take for granted the answers proposed by wikidata (as noticed by Georg, Wikipedia is a matter of research for IMAGEUN …) but without any doubt, it offers a very good opportunity to clarify our questions and help us to build tools for recognition of world regions and other geographical imaginations in a multilingual perspective.</p>
</div>
<div id="wikipedia-entities-as-nodes-of-an-ontolongy" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Wikipedia entities as nodes of an ontolongy</h3>
<p>It appears crucial to introduce here a clear distinction between <strong>Wikipedia entities</strong> and <strong>textual units</strong> associated to the names and definiton of this units.</p>
<p>A <strong>wikipedia entity</strong> like <em>Q15</em> is an <strong>element of an ontology</strong> designed by its author for specific purposes. The specificity of the wikidata ontology is the fact that it is a <strong>multilinligual web</strong> where Q15 is a <strong>node of the web</strong> present in different linguistic layers. It means that we don’t have a single name or a single definition of Q15, except if we adopt the neocolonial perspective to choose the english language as reference. Depending on the context (i.e. the language or sub-language), Q15 could be defined as :</p>
<ul>
<li>(fr) : A <em>“continent”</em> named <em>“Afrique”</em>"</li>
<li>(en) : A <em>“continent on the Earth’s northern and southern hemispheres”</em> named <em>“Africa”</em> or <em>“African continent”</em></li>
<li>(de) : A <em>“Kontinent auf der Nord- und Südhalbkugel der Erde”</em> named <em>“Afrika”</em></li>
<li>(tr) : A <em>“Dünya’nın kuzey ve güney yarıkürelerindeki bir kıta”</em> named <em>“Afrika”</em> or <em>“Afrika kıtası”</em></li>
<li>(ar) : The <em>" ثاني أكبر قارات العالم من حيث المساحة وعدد السكان، تأتي في المرتبة الثانية بعد آسيا"</em> <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> named <em>“إفريقيا”</em> or <em>“القارة الأفريقية”</em></li>
</ul>
<p>In other words the <strong>existence of the same code of wikipedia entities does not offer any guarantee of concordance between the geographical objects found in news published in different languages or different countries</strong>. But - and it is the important point - it help us to point similarities and differences between set of geographical entities that are more or less comparable in each language.</p>
</div>
<div id="a-tool-for-cross-linguistical-experiments" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> A tool for cross-linguistical experiments</h3>
<p>Having in mind the limits of the equivalence of entities across languages, it can nevertheless be an interesting experience to select a set of wikipedia entities (Q15, Q258, Q4412 …) and to examine their relative frequency in our different media from different countries with different languages. A typical hypothesis could be something like :</p>
<ul>
<li>Is <em>Q15</em> more mentionned than <em>Q46</em> in Tunisian newspapers ?</li>
</ul>
<p>which is <strong>not equivalent</strong> to the question</p>
<ul>
<li>Is Africa more mentionned than Europe in Tunisian newspapers</li>
</ul>
<p>but rather equivalent to the two joint questions</p>
<ul>
<li>Is the textual unit “<em>Afrique</em>” more mentionned than the textual unit “<em>Europe</em>” in Tunisian newspapers published <strong>in french language</strong>.</li>
<li>Is the textual unit <em>“إفريقيا”</em> more mentionned than the textual unit “<em>أوروبا</em>” in Tunisian newspapers published <strong>in arabic language</strong>.</li>
</ul>
</div>
</div>
<div id="the-package-wikidatar" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> The package WikidataR</h2>
<p>The package <a href="https://cran.r-project.org/web/packages/WikidataR/WikidataR.pdf">WikidataR</a> is an interface for the use of the Wikidata API in R language. Equivalent tools are available in Python and other languages for those non familiar with R. And it is of course possible to use directly the API. The first step is to install the most recent version of the R package <code>WikidataR</code> which install also related packages of interest.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="23-Wikidata.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;WikidataR&quot;)</span></span>
<span id="cb90-2"><a href="23-Wikidata.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WikidataR)</span></code></pre></div>
<div id="basic-operations" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Basic operations</h3>
<p>(based on Etienne Toureille previous experiments)</p>
<div id="identification-of-entities-of-interest" class="section level4" number="4.3.1.1">
<h4><span class="header-section-number">4.3.1.1</span> identification of entities of interest</h4>
<p>The function <code>find_item</code> will help to find all wikipedia entities (=items) associated to a textual unit (word or group of word) in given language. Let’s start with the research of entities associated to “<em>Afrique</em>” in french language :</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="23-Wikidata.html#cb91-1" aria-hidden="true" tabindex="-1"></a>mytext <span class="ot">&lt;-</span> <span class="st">&quot;Afrique&quot;</span></span>
<span id="cb91-2"><a href="23-Wikidata.html#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="23-Wikidata.html#cb91-3" aria-hidden="true" tabindex="-1"></a>items <span class="ot">&lt;-</span> <span class="fu">find_item</span>(<span class="at">search_term =</span> mytext,</span>
<span id="cb91-4"><a href="23-Wikidata.html#cb91-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">language =</span> <span class="st">&quot;fr&quot;</span>,</span>
<span id="cb91-5"><a href="23-Wikidata.html#cb91-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">limit=</span><span class="dv">30</span>)</span>
<span id="cb91-6"><a href="23-Wikidata.html#cb91-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(items)</span></code></pre></div>
<pre><code>[1] &quot;find_item&quot;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="23-Wikidata.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(items)</span></code></pre></div>
<pre><code>[1] 30</code></pre>
<p>The resulting object is an object from type <code>find_item</code> which is in practice a <code>list</code> describing the entities that has been recognized associated to the textual unit that we have chosen. In the french cas, we have found 50 entities that match with our textual unit. Let’s have a look at the first one :</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="23-Wikidata.html#cb95-1" aria-hidden="true" tabindex="-1"></a>items[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>$id
[1] &quot;Q15&quot;

$title
[1] &quot;Q15&quot;

$pageid
[1] 111

$repository
[1] &quot;wikidata&quot;

$url
[1] &quot;//www.wikidata.org/wiki/Q15&quot;

$concepturi
[1] &quot;http://www.wikidata.org/entity/Q15&quot;

$label
[1] &quot;Africa&quot;

$description
[1] &quot;continent on the Earth&#39;s northern and southern hemispheres&quot;

$match
$match$type
[1] &quot;label&quot;

$match$language
[1] &quot;fr&quot;

$match$text
[1] &quot;Afrique&quot;


$aliases
$aliases[[1]]
[1] &quot;Afrique&quot;</code></pre>
<p>As we can see we can easily identify the code the label and description in english but also the text responsible from the matching answer in french. We can therefore create a function <code>item_info</code> that extract all elements of interest and put them in a table in order to have a complete view.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="23-Wikidata.html#cb97-1" aria-hidden="true" tabindex="-1"></a>item_info <span class="ot">&lt;-</span> <span class="cf">function</span>(my_item){ </span>
<span id="cb97-2"><a href="23-Wikidata.html#cb97-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-3"><a href="23-Wikidata.html#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="23-Wikidata.html#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.null</span>(my_item<span class="sc">$</span>id) <span class="sc">==</span> F){item_id <span class="ot">=</span> my_item<span class="sc">$</span>id}</span>
<span id="cb97-5"><a href="23-Wikidata.html#cb97-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> {item_id  <span class="ot">=</span> <span class="cn">NA</span>}</span>
<span id="cb97-6"><a href="23-Wikidata.html#cb97-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-7"><a href="23-Wikidata.html#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.null</span>(my_item<span class="sc">$</span>label) <span class="sc">==</span>F){item_label <span class="ot">=</span> my_item<span class="sc">$</span>label}</span>
<span id="cb97-8"><a href="23-Wikidata.html#cb97-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> {item_label  <span class="ot">=</span> <span class="cn">NA</span>}</span>
<span id="cb97-9"><a href="23-Wikidata.html#cb97-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-10"><a href="23-Wikidata.html#cb97-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.null</span>(my_item<span class="sc">$</span>desc) <span class="sc">==</span> F) {item_desc<span class="ot">=</span> my_item<span class="sc">$</span>desc}</span>
<span id="cb97-11"><a href="23-Wikidata.html#cb97-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> {item_desc  <span class="ot">=</span> <span class="cn">NA</span>}</span>
<span id="cb97-12"><a href="23-Wikidata.html#cb97-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-13"><a href="23-Wikidata.html#cb97-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.null</span>(my_item<span class="sc">$</span>match<span class="sc">$</span>lang) <span class="sc">==</span>F){item_lang <span class="ot">=</span> my_item<span class="sc">$</span>match<span class="sc">$</span>lang}</span>
<span id="cb97-14"><a href="23-Wikidata.html#cb97-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> {item_lang  <span class="ot">=</span> <span class="cn">NA</span>}</span>
<span id="cb97-15"><a href="23-Wikidata.html#cb97-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-16"><a href="23-Wikidata.html#cb97-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.null</span>(my_item<span class="sc">$</span>match<span class="sc">$</span>text) <span class="sc">==</span>F){item_text <span class="ot">=</span> my_item<span class="sc">$</span>match<span class="sc">$</span>text}</span>
<span id="cb97-17"><a href="23-Wikidata.html#cb97-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> {item_text  <span class="ot">=</span> <span class="cn">NA</span>}</span>
<span id="cb97-18"><a href="23-Wikidata.html#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="23-Wikidata.html#cb97-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-20"><a href="23-Wikidata.html#cb97-20" aria-hidden="true" tabindex="-1"></a>  res<span class="ot">&lt;-</span><span class="fu">data.frame</span>(item_id,item_label,item_desc,item_lang,item_text)</span>
<span id="cb97-21"><a href="23-Wikidata.html#cb97-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb97-22"><a href="23-Wikidata.html#cb97-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(res) </span>
<span id="cb97-23"><a href="23-Wikidata.html#cb97-23" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>For example :</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="23-Wikidata.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">item_info</span>(items[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>  item_id item_label                                                  item_desc
1     Q15     Africa continent on the Earth&#39;s northern and southern hemispheres
  item_lang item_text
1        fr   Afrique</code></pre>
<p>We build then a second function that extract all the wikipedia entities associated to a textual unit for a given language</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="23-Wikidata.html#cb100-1" aria-hidden="true" tabindex="-1"></a>extract_entities <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">mytext=</span> <span class="st">&quot;Afrique&quot;</span>,</span>
<span id="cb100-2"><a href="23-Wikidata.html#cb100-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">mylang =</span> <span class="st">&quot;fr&quot;</span>,</span>
<span id="cb100-3"><a href="23-Wikidata.html#cb100-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">maxres =</span> <span class="dv">20</span>) {</span>
<span id="cb100-4"><a href="23-Wikidata.html#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract items</span></span>
<span id="cb100-5"><a href="23-Wikidata.html#cb100-5" aria-hidden="true" tabindex="-1"></a>  items <span class="ot">&lt;-</span> <span class="fu">find_item</span>(<span class="at">search_term =</span>  mytext,</span>
<span id="cb100-6"><a href="23-Wikidata.html#cb100-6" aria-hidden="true" tabindex="-1"></a>                   <span class="at">language      =</span>  mylang,</span>
<span id="cb100-7"><a href="23-Wikidata.html#cb100-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">limit         =</span>  maxres)</span>
<span id="cb100-8"><a href="23-Wikidata.html#cb100-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb100-9"><a href="23-Wikidata.html#cb100-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create empty dataset</span></span>
<span id="cb100-10"><a href="23-Wikidata.html#cb100-10" aria-hidden="true" tabindex="-1"></a>  res<span class="ot">&lt;-</span><span class="fu">data.frame</span>()</span>
<span id="cb100-11"><a href="23-Wikidata.html#cb100-11" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>item_id    <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb100-12"><a href="23-Wikidata.html#cb100-12" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>item_label <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb100-13"><a href="23-Wikidata.html#cb100-13" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>item_desc <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb100-14"><a href="23-Wikidata.html#cb100-14" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>item_lang  <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb100-15"><a href="23-Wikidata.html#cb100-15" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>item_text  <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb100-16"><a href="23-Wikidata.html#cb100-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb100-17"><a href="23-Wikidata.html#cb100-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fill dataset</span></span>
<span id="cb100-18"><a href="23-Wikidata.html#cb100-18" aria-hidden="true" tabindex="-1"></a>  k<span class="ot">&lt;-</span><span class="fu">length</span>(items)</span>
<span id="cb100-19"><a href="23-Wikidata.html#cb100-19" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k) {</span>
<span id="cb100-20"><a href="23-Wikidata.html#cb100-20" aria-hidden="true" tabindex="-1"></a>           res <span class="ot">&lt;-</span> <span class="fu">rbind</span>(res,<span class="fu">item_info</span>(items[[i]]))</span>
<span id="cb100-21"><a href="23-Wikidata.html#cb100-21" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb100-22"><a href="23-Wikidata.html#cb100-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb100-23"><a href="23-Wikidata.html#cb100-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return dataset</span></span>
<span id="cb100-24"><a href="23-Wikidata.html#cb100-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(res)</span>
<span id="cb100-25"><a href="23-Wikidata.html#cb100-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-26"><a href="23-Wikidata.html#cb100-26" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>For example :</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="23-Wikidata.html#cb101-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">extract_entities</span>(<span class="st">&quot;Afrique&quot;</span>,<span class="st">&quot;fr&quot;</span>,<span class="dv">20</span>)</span>
<span id="cb101-2"><a href="23-Wikidata.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tab)</span></code></pre></div>
<table>
<colgroup>
<col width="6%" />
<col width="13%" />
<col width="57%" />
<col width="5%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">item_id</th>
<th align="left">item_label</th>
<th align="left">item_desc</th>
<th align="left">item_lang</th>
<th align="left">item_text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">Africa</td>
<td align="left">continent on the Earth’s northern and southern hemispheres</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q181238</td>
<td align="left">Africa</td>
<td align="left">Roman province on the northern African coast covering parts of present-day Tunisia, Algeria, and Libya</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q203548</td>
<td align="left">African Plate</td>
<td align="left">continental plate underlying Africa</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">South Africa</td>
<td align="left">sovereign state in Southern Africa</td>
<td align="left">fr</td>
<td align="left">Afrique du Sud</td>
</tr>
<tr class="odd">
<td align="left">Q4412</td>
<td align="left">West Africa</td>
<td align="left">region of Africa</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Ouest</td>
</tr>
<tr class="even">
<td align="left">Q132959</td>
<td align="left">Sub-Saharan Africa</td>
<td align="left">area of the continent of Africa that lies south of the Sahara Desert</td>
<td align="left">fr</td>
<td align="left">Afrique subsaharienne</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">Southern Africa</td>
<td align="left">southernmost region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique australe</td>
</tr>
<tr class="even">
<td align="left">Q27407</td>
<td align="left">East Africa</td>
<td align="left">easterly region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Est</td>
</tr>
<tr class="odd">
<td align="left">Q27381</td>
<td align="left">North Africa</td>
<td align="left">northernmost region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique du Nord</td>
</tr>
<tr class="even">
<td align="left">Q2826196</td>
<td align="left">Afrique</td>
<td align="left">Wikimedia disambiguation page</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q23639892</td>
<td align="left">Africa</td>
<td align="left">artwork by Eugène Delaplanche in Paris, France</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q66022909</td>
<td align="left">Afrique</td>
<td align="left">NA</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q153963</td>
<td align="left">German East Africa</td>
<td align="left">former German posesssion in the African Great Lakes region between 1884–1919</td>
<td align="left">fr</td>
<td align="left">Afrique orientale allemande</td>
</tr>
<tr class="even">
<td align="left">Q4690138</td>
<td align="left">Afrique</td>
<td align="left">album by Count Basie</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q65574303</td>
<td align="left">Afrique</td>
<td align="left">NA</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q56317928</td>
<td align="left">Afrique</td>
<td align="left">NA</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q210682</td>
<td align="left">French West Africa</td>
<td align="left">French colonial federation (1895–1958)</td>
<td align="left">fr</td>
<td align="left">Afrique-Occidentale française</td>
</tr>
<tr class="even">
<td align="left">Q27433</td>
<td align="left">Central Africa</td>
<td align="left">core region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique centrale</td>
</tr>
<tr class="odd">
<td align="left">Q106179043</td>
<td align="left">Afrique</td>
<td align="left">NA</td>
<td align="left">en</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q271894</td>
<td align="left">French Equatorial Africa</td>
<td align="left">federation of French colonial possessions in Central Africa</td>
<td align="left">fr</td>
<td align="left">Afrique-Équatoriale française</td>
</tr>
</tbody>
</table>
<p>As we can see, many of the entities proposed in he list are not interesting and we will probably have to select one by one the entities of interest. But we have clearly to keep two different list of entities :</p>
<ul>
<li><strong>the target entities</strong> : that we consider as potential world regions or candidate to te title of “geographic imagination”.</li>
<li><strong>the control entites</strong> : that we have to identify or eliminate if we want to identify correctly our target entities like the country of South Africa</li>
</ul>
<p>In the case of Africa, we could for example establish a more limited list</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="23-Wikidata.html#cb102-1" aria-hidden="true" tabindex="-1"></a>entit <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Q15&quot;</span>, <span class="st">&quot;Q4412&quot;</span>,<span class="st">&quot;Q132959&quot;</span>, <span class="st">&quot;Q27394&quot;</span>,<span class="st">&quot;Q27407&quot;</span>,<span class="st">&quot;Q27381&quot;</span>,<span class="st">&quot;Q27433&quot;</span>,<span class="st">&quot;Q258&quot;</span>)</span>
<span id="cb102-2"><a href="23-Wikidata.html#cb102-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-3"><a href="23-Wikidata.html#cb102-3" aria-hidden="true" tabindex="-1"></a>tab<span class="ot">&lt;-</span>tab <span class="sc">%&gt;%</span> <span class="fu">filter</span>(item_id <span class="sc">%in%</span> entit)</span>
<span id="cb102-4"><a href="23-Wikidata.html#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tab)</span></code></pre></div>
<table>
<colgroup>
<col width="6%" />
<col width="14%" />
<col width="53%" />
<col width="7%" />
<col width="17%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">item_id</th>
<th align="left">item_label</th>
<th align="left">item_desc</th>
<th align="left">item_lang</th>
<th align="left">item_text</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">Africa</td>
<td align="left">continent on the Earth’s northern and southern hemispheres</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">South Africa</td>
<td align="left">sovereign state in Southern Africa</td>
<td align="left">fr</td>
<td align="left">Afrique du Sud</td>
</tr>
<tr class="odd">
<td align="left">Q4412</td>
<td align="left">West Africa</td>
<td align="left">region of Africa</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Ouest</td>
</tr>
<tr class="even">
<td align="left">Q132959</td>
<td align="left">Sub-Saharan Africa</td>
<td align="left">area of the continent of Africa that lies south of the Sahara Desert</td>
<td align="left">fr</td>
<td align="left">Afrique subsaharienne</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">Southern Africa</td>
<td align="left">southernmost region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique australe</td>
</tr>
<tr class="even">
<td align="left">Q27407</td>
<td align="left">East Africa</td>
<td align="left">easterly region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Est</td>
</tr>
<tr class="odd">
<td align="left">Q27381</td>
<td align="left">North Africa</td>
<td align="left">northernmost region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique du Nord</td>
</tr>
<tr class="even">
<td align="left">Q27433</td>
<td align="left">Central Africa</td>
<td align="left">core region of the African continent</td>
<td align="left">fr</td>
<td align="left">Afrique centrale</td>
</tr>
</tbody>
</table>
<p>But this list which was based on the french textual units associated to “Afrique” should certainly be completed by equivalent list established for other languages with different seeds (“Africa” in english, “Afrika” in german, …)</p>
</div>
</div>
<div id="elaboration-of-a-cross_linguistic-dictionnary" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Elaboration of a cross_linguistic dictionnary</h3>
<p>Admitting that we have established a list of wikipedia entities of interest, we can now turn to the creation of a dictionary for the identification of these entities in different languages. We will use for that purpose the powerful function <code>get_properties</code></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="23-Wikidata.html#cb103-1" aria-hidden="true" tabindex="-1"></a>item_prop <span class="ot">&lt;-</span> <span class="fu">get_property</span>(<span class="st">&quot;Q15&quot;</span>)[[<span class="dv">1</span>]]</span></code></pre></div>
<p>The result is a very large object (list of list) which provide all the informations (or links toward these information) in all languages wher the object is available. The problem is therefore to understand the structure of this object and to extract exactly what we need. In our case, we want to extract for each language of interest.</p>
<p>The information will be separated in two datasets :</p>
<ul>
<li>dictionary of definitions</li>
<li>dictionary of labels and aliases</li>
</ul>
<p>We create two functions dedicated to each of the tasks</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="23-Wikidata.html#cb104-1" aria-hidden="true" tabindex="-1"></a>extract_def <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">item =</span> <span class="fu">c</span>(<span class="st">&quot;Q15&quot;</span>, <span class="st">&quot;Q246&quot;</span>),</span>
<span id="cb104-2"><a href="23-Wikidata.html#cb104-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">langs =</span> <span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>)) {</span>
<span id="cb104-3"><a href="23-Wikidata.html#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create empty dataset</span></span>
<span id="cb104-4"><a href="23-Wikidata.html#cb104-4" aria-hidden="true" tabindex="-1"></a>  res<span class="ot">&lt;-</span><span class="fu">data.frame</span>()</span>
<span id="cb104-5"><a href="23-Wikidata.html#cb104-5" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>id    <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb104-6"><a href="23-Wikidata.html#cb104-6" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>lang  <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb104-7"><a href="23-Wikidata.html#cb104-7" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb104-8"><a href="23-Wikidata.html#cb104-8" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>desc  <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb104-9"><a href="23-Wikidata.html#cb104-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb104-10"><a href="23-Wikidata.html#cb104-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb104-11"><a href="23-Wikidata.html#cb104-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Loop of items</span></span>
<span id="cb104-12"><a href="23-Wikidata.html#cb104-12" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(item)</span>
<span id="cb104-13"><a href="23-Wikidata.html#cb104-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb104-14"><a href="23-Wikidata.html#cb104-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb104-15"><a href="23-Wikidata.html#cb104-15" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Extract item properties</span></span>
<span id="cb104-16"><a href="23-Wikidata.html#cb104-16" aria-hidden="true" tabindex="-1"></a>    item_prop <span class="ot">&lt;-</span> <span class="fu">get_property</span>(item[i])[[<span class="dv">1</span>]]</span>
<span id="cb104-17"><a href="23-Wikidata.html#cb104-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb104-18"><a href="23-Wikidata.html#cb104-18" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb104-19"><a href="23-Wikidata.html#cb104-19" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Loop  of language</span></span>
<span id="cb104-20"><a href="23-Wikidata.html#cb104-20" aria-hidden="true" tabindex="-1"></a>     p<span class="ot">&lt;-</span><span class="fu">length</span>(langs)</span>
<span id="cb104-21"><a href="23-Wikidata.html#cb104-21" aria-hidden="true" tabindex="-1"></a>     <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>p) {</span>
<span id="cb104-22"><a href="23-Wikidata.html#cb104-22" aria-hidden="true" tabindex="-1"></a>        id <span class="ot">&lt;-</span> item[i]</span>
<span id="cb104-23"><a href="23-Wikidata.html#cb104-23" aria-hidden="true" tabindex="-1"></a>        lang  <span class="ot">&lt;-</span> langs[j]</span>
<span id="cb104-24"><a href="23-Wikidata.html#cb104-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">is.null</span>(item_prop[[<span class="st">&quot;labels&quot;</span>]][[lang]]<span class="sc">$</span>value)<span class="sc">==</span>F) {label <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;labels&quot;</span>]][[lang]]<span class="sc">$</span>value}</span>
<span id="cb104-25"><a href="23-Wikidata.html#cb104-25" aria-hidden="true" tabindex="-1"></a>           <span class="cf">else</span> { label <span class="ot">&lt;-</span> <span class="cn">NA</span>}</span>
<span id="cb104-26"><a href="23-Wikidata.html#cb104-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">is.null</span>(item_prop[[<span class="st">&quot;descriptions&quot;</span>]][[lang]]<span class="sc">$</span>value)<span class="sc">==</span>F) {desc <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;descriptions&quot;</span>]][[lang]]<span class="sc">$</span>value}</span>
<span id="cb104-27"><a href="23-Wikidata.html#cb104-27" aria-hidden="true" tabindex="-1"></a>           <span class="cf">else</span> { desc <span class="ot">&lt;-</span> <span class="cn">NA</span>}</span>
<span id="cb104-28"><a href="23-Wikidata.html#cb104-28" aria-hidden="true" tabindex="-1"></a>        add <span class="ot">&lt;-</span><span class="fu">data.frame</span>(id,lang,label,desc)</span>
<span id="cb104-29"><a href="23-Wikidata.html#cb104-29" aria-hidden="true" tabindex="-1"></a>        res<span class="ot">&lt;-</span> <span class="fu">rbind</span>(res,add) </span>
<span id="cb104-30"><a href="23-Wikidata.html#cb104-30" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb104-31"><a href="23-Wikidata.html#cb104-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb104-32"><a href="23-Wikidata.html#cb104-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb104-33"><a href="23-Wikidata.html#cb104-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Export result</span></span>
<span id="cb104-34"><a href="23-Wikidata.html#cb104-34" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(res)</span>
<span id="cb104-35"><a href="23-Wikidata.html#cb104-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-36"><a href="23-Wikidata.html#cb104-36" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>The function works proprerly as long as the entities are available in all languages. It should be adapted to prevent errors when an entity is not available in one language.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="23-Wikidata.html#cb105-1" aria-hidden="true" tabindex="-1"></a>entit <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Q15&quot;</span>, <span class="st">&quot;Q4412&quot;</span>,<span class="st">&quot;Q132959&quot;</span>, <span class="st">&quot;Q27394&quot;</span>,<span class="st">&quot;Q27407&quot;</span>,<span class="st">&quot;Q27381&quot;</span>,<span class="st">&quot;Q27433&quot;</span>,<span class="st">&quot;Q258&quot;</span>)</span>
<span id="cb105-2"><a href="23-Wikidata.html#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="23-Wikidata.html#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="23-Wikidata.html#cb105-4" aria-hidden="true" tabindex="-1"></a>tab<span class="ot">&lt;-</span><span class="fu">extract_def</span>(entit,<span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb105-5"><a href="23-Wikidata.html#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tab)</span></code></pre></div>
<table>
<colgroup>
<col width="5%" />
<col width="3%" />
<col width="15%" />
<col width="75%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">lang</th>
<th align="left">label</th>
<th align="left">desc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
<td align="left">continent</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">de</td>
<td align="left">Afrika</td>
<td align="left">Kontinent auf der Nord- und Südhalbkugel der Erde</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">tr</td>
<td align="left">Afrika</td>
<td align="left">Dünya’nın kuzey ve güney yarıkürelerindeki bir kıta</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">en</td>
<td align="left">Africa</td>
<td align="left">continent on the Earth’s northern and southern hemispheres</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">إفريقيا</td>
<td align="left">ثاني أكبر قارات العالم من حيث المساحة وعدد السكان، تأتي في المرتبة الثانية بعد آسيا</td>
</tr>
<tr class="even">
<td align="left">Q4412</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Ouest</td>
<td align="left">région d’Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q4412</td>
<td align="left">de</td>
<td align="left">Westafrika</td>
<td align="left">Kontinentalteil</td>
</tr>
<tr class="even">
<td align="left">Q4412</td>
<td align="left">tr</td>
<td align="left">Batı Afrika</td>
<td align="left">Afrika’nın batısındaki 16 ülkenin bulunduğu alan</td>
</tr>
<tr class="odd">
<td align="left">Q4412</td>
<td align="left">en</td>
<td align="left">West Africa</td>
<td align="left">region of Africa</td>
</tr>
<tr class="even">
<td align="left">Q4412</td>
<td align="left">ar</td>
<td align="left">غرب أفريقيا</td>
<td align="left">المنطقة الغربية للقارة الأفريقية</td>
</tr>
<tr class="odd">
<td align="left">Q132959</td>
<td align="left">fr</td>
<td align="left">Afrique subsaharienne</td>
<td align="left">partie du continent africain au sud du Sahara</td>
</tr>
<tr class="even">
<td align="left">Q132959</td>
<td align="left">de</td>
<td align="left">Subsahara-Afrika</td>
<td align="left">südlich der Sahara gelegener Teil Afrikas</td>
</tr>
<tr class="odd">
<td align="left">Q132959</td>
<td align="left">tr</td>
<td align="left">Sahraaltı Afrika</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Q132959</td>
<td align="left">en</td>
<td align="left">Sub-Saharan Africa</td>
<td align="left">area of the continent of Africa that lies south of the Sahara Desert</td>
</tr>
<tr class="odd">
<td align="left">Q132959</td>
<td align="left">ar</td>
<td align="left">أفريقيا جنوب الصحراء</td>
<td align="left">جزء من القارة الأفريقية يقع جنوب الصحراء الكبرى</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">fr</td>
<td align="left">Afrique australe</td>
<td align="left">région la plus méridionale du continent africain</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">de</td>
<td align="left">Südliches Afrika</td>
<td align="left">Region in Afrika</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">tr</td>
<td align="left">Güney Afrika</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">en</td>
<td align="left">Southern Africa</td>
<td align="left">southernmost region of the African continent</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">أفريقيا الجنوبية</td>
<td align="left">المنطقة الجنوبية للقارة الأفريقية</td>
</tr>
<tr class="odd">
<td align="left">Q27407</td>
<td align="left">fr</td>
<td align="left">Afrique de l’Est</td>
<td align="left">région d’Afrique</td>
</tr>
<tr class="even">
<td align="left">Q27407</td>
<td align="left">de</td>
<td align="left">Ostafrika</td>
<td align="left">Region in Afrika</td>
</tr>
<tr class="odd">
<td align="left">Q27407</td>
<td align="left">tr</td>
<td align="left">Doğu Afrika</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Q27407</td>
<td align="left">en</td>
<td align="left">East Africa</td>
<td align="left">easterly region of the African continent</td>
</tr>
<tr class="odd">
<td align="left">Q27407</td>
<td align="left">ar</td>
<td align="left">شرق أفريقيا</td>
<td align="left">المنطقة الشرقية للقارة الأفريقية</td>
</tr>
<tr class="even">
<td align="left">Q27381</td>
<td align="left">fr</td>
<td align="left">Afrique du Nord</td>
<td align="left">région en Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q27381</td>
<td align="left">de</td>
<td align="left">Nordafrika</td>
<td align="left">Region in Afrika</td>
</tr>
<tr class="even">
<td align="left">Q27381</td>
<td align="left">tr</td>
<td align="left">Kuzey Afrika</td>
<td align="left">Afrika kıtasının Fas, Cezayir, Tunus, Libya, Mısır ve Sudan’ı içeren kuzey bölgesi</td>
</tr>
<tr class="odd">
<td align="left">Q27381</td>
<td align="left">en</td>
<td align="left">North Africa</td>
<td align="left">northernmost region of the African continent</td>
</tr>
<tr class="even">
<td align="left">Q27381</td>
<td align="left">ar</td>
<td align="left">شمال أفريقيا</td>
<td align="left">سكان افريقيا في شمالها</td>
</tr>
<tr class="odd">
<td align="left">Q27433</td>
<td align="left">fr</td>
<td align="left">Afrique centrale</td>
<td align="left">Région d’Afrique</td>
</tr>
<tr class="even">
<td align="left">Q27433</td>
<td align="left">de</td>
<td align="left">Zentralafrika</td>
<td align="left">Region in Afrika</td>
</tr>
<tr class="odd">
<td align="left">Q27433</td>
<td align="left">tr</td>
<td align="left">Orta Afrika</td>
<td align="left">Afrika kıtasının Burundi, Orta Afrika Cumhuriyeti, Çad, Kongo Demokratik Cumhuriyeti ve Ruanda’yı barındıran orta kısmı</td>
</tr>
<tr class="even">
<td align="left">Q27433</td>
<td align="left">en</td>
<td align="left">Central Africa</td>
<td align="left">core region of the African continent</td>
</tr>
<tr class="odd">
<td align="left">Q27433</td>
<td align="left">ar</td>
<td align="left">وسط أفريقيا</td>
<td align="left">منطقة رئيسية للقارة الأفريقية</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">Afrique du Sud</td>
<td align="left">pays d’Afrique</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">de</td>
<td align="left">Südafrika</td>
<td align="left">Staat im südlichen Afrika</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">tr</td>
<td align="left">Güney Afrika Cumhuriyeti</td>
<td align="left">Güney Afrika’da bulunan bir ülke</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">South Africa</td>
<td align="left">sovereign state in Southern Africa</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">ar</td>
<td align="left">جنوب أفريقيا</td>
<td align="left">دولة في أفريقيا الجنوبية</td>
</tr>
</tbody>
</table>
</div>
<div id="extraction-of-aliases" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Extraction of aliases</h3>
<p>Now we have to extract the <em>aliases</em> which are two texts corresponding to the same entity in a given,language. For example, the Q27394 which correspond to the southern part of Africa (a subregion, not a country) is associated in spanish language to one main label and three equivalenbt alisases</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="23-Wikidata.html#cb106-1" aria-hidden="true" tabindex="-1"></a>item_prop <span class="ot">&lt;-</span> <span class="fu">get_property</span>(<span class="st">&quot;Q27394&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb106-2"><a href="23-Wikidata.html#cb106-2" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>labels<span class="sc">$</span>es<span class="sc">$</span>value</span></code></pre></div>
<pre><code>[1] &quot;África austral&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="23-Wikidata.html#cb108-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>aliases<span class="sc">$</span>es</span></code></pre></div>
<pre><code>  language             value
1       es África meridional
2       es    África del Sur
3       es     sur de África</code></pre>
<p>But in french language, no aliases are mentioned :</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="23-Wikidata.html#cb110-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>labels<span class="sc">$</span>fr<span class="sc">$</span>value</span></code></pre></div>
<pre><code>[1] &quot;Afrique australe&quot;</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="23-Wikidata.html#cb112-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>aliases<span class="sc">$</span>fr</span></code></pre></div>
<pre><code>NULL</code></pre>
<p>The fact that no aliases are mentioned in french language can be considered as non logical as compared to spanish language. And we could certainly imagine to add in french the translation of two spanish aliases: “<em>Afrique méridionale</em>”, “<em>Sud de l’Afrique</em>”. But we can not add “<em>Afrique du Sud</em>” because it is related in french to the state and not to the subregion.</p>
<p>Despite the fact that they are not complete, the aliases are certainly a good solution when we want to obtain more efficient dictionaries. For example, if we want to obtain the state of southern Africa (Q258), we can complete the official label by 4 alias in french language and 3 aliases in spanish, taking into account the fact that the text is in upper orlowercase, withor without accent, …</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="23-Wikidata.html#cb114-1" aria-hidden="true" tabindex="-1"></a>item_prop <span class="ot">&lt;-</span> <span class="fu">get_property</span>(<span class="st">&quot;Q258&quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb114-2"><a href="23-Wikidata.html#cb114-2" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>labels<span class="sc">$</span>es<span class="sc">$</span>value</span></code></pre></div>
<pre><code>[1] &quot;Sudáfrica&quot;</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="23-Wikidata.html#cb116-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>aliases<span class="sc">$</span>es</span></code></pre></div>
<pre><code>  language                  value
1       es República de Sudáfrica
2       es              Sudafrica
3       es Republica de Sudafrica</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="23-Wikidata.html#cb118-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>labels<span class="sc">$</span>fr<span class="sc">$</span>value</span></code></pre></div>
<pre><code>[1] &quot;Afrique du Sud&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="23-Wikidata.html#cb120-1" aria-hidden="true" tabindex="-1"></a>item_prop<span class="sc">$</span>aliases<span class="sc">$</span>fr</span></code></pre></div>
<pre><code>  language                       value
1       fr    République sud-africaine
2       fr République d’Afrique du Sud
3       fr    république sud-africaine
4       fr république d’Afrique du Sud</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="23-Wikidata.html#cb122-1" aria-hidden="true" tabindex="-1"></a>lang<span class="ot">=</span><span class="st">&quot;fr&quot;</span></span>
<span id="cb122-2"><a href="23-Wikidata.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.null</span>(item_prop[[<span class="st">&quot;aliases&quot;</span>]][[lang]])<span class="sc">!=</span>F</span></code></pre></div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="23-Wikidata.html#cb124-1" aria-hidden="true" tabindex="-1"></a>ali <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;aliases&quot;</span>]][[lang]]<span class="sc">$</span>value</span>
<span id="cb124-2"><a href="23-Wikidata.html#cb124-2" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">length</span>(ali)</span>
<span id="cb124-3"><a href="23-Wikidata.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) { <span class="fu">print</span>(ali[i])}</span></code></pre></div>
<pre><code>[1] &quot;République sud-africaine&quot;
[1] &quot;République d’Afrique du Sud&quot;
[1] &quot;république sud-africaine&quot;
[1] &quot;république d’Afrique du Sud&quot;</code></pre>
<p>We propose therefore a function called <code>extract_alias</code> which propose for each entity of interest a list of texts and aliases adapte to each language. We do not store the definition which has been otained previously with the function <code>extract_def</code> :</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="23-Wikidata.html#cb126-1" aria-hidden="true" tabindex="-1"></a>extract_alias <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">items =</span> <span class="fu">c</span>(<span class="st">&quot;Q15&quot;</span>, <span class="st">&quot;Q258&quot;</span>),</span>
<span id="cb126-2"><a href="23-Wikidata.html#cb126-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">langs =</span> <span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>)) {</span>
<span id="cb126-3"><a href="23-Wikidata.html#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create empty dataset</span></span>
<span id="cb126-4"><a href="23-Wikidata.html#cb126-4" aria-hidden="true" tabindex="-1"></a>  res<span class="ot">&lt;-</span><span class="fu">data.frame</span>()</span>
<span id="cb126-5"><a href="23-Wikidata.html#cb126-5" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>id    <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb126-6"><a href="23-Wikidata.html#cb126-6" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>lang  <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb126-7"><a href="23-Wikidata.html#cb126-7" aria-hidden="true" tabindex="-1"></a>  res<span class="sc">$</span>label <span class="ot">&lt;-</span> <span class="fu">as.character</span>()</span>
<span id="cb126-8"><a href="23-Wikidata.html#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="23-Wikidata.html#cb126-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb126-10"><a href="23-Wikidata.html#cb126-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Loop of items</span></span>
<span id="cb126-11"><a href="23-Wikidata.html#cb126-11" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(items)</span>
<span id="cb126-12"><a href="23-Wikidata.html#cb126-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb126-13"><a href="23-Wikidata.html#cb126-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb126-14"><a href="23-Wikidata.html#cb126-14" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Extract item properties</span></span>
<span id="cb126-15"><a href="23-Wikidata.html#cb126-15" aria-hidden="true" tabindex="-1"></a>    item_prop <span class="ot">&lt;-</span> <span class="fu">get_property</span>(items[i])[[<span class="dv">1</span>]]</span>
<span id="cb126-16"><a href="23-Wikidata.html#cb126-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb126-17"><a href="23-Wikidata.html#cb126-17" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb126-18"><a href="23-Wikidata.html#cb126-18" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Loop  of language</span></span>
<span id="cb126-19"><a href="23-Wikidata.html#cb126-19" aria-hidden="true" tabindex="-1"></a>     p<span class="ot">&lt;-</span><span class="fu">length</span>(langs)</span>
<span id="cb126-20"><a href="23-Wikidata.html#cb126-20" aria-hidden="true" tabindex="-1"></a>     <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>p) {</span>
<span id="cb126-21"><a href="23-Wikidata.html#cb126-21" aria-hidden="true" tabindex="-1"></a>        id <span class="ot">&lt;-</span> items[i]</span>
<span id="cb126-22"><a href="23-Wikidata.html#cb126-22" aria-hidden="true" tabindex="-1"></a>        lang  <span class="ot">&lt;-</span> langs[j]</span>
<span id="cb126-23"><a href="23-Wikidata.html#cb126-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">is.null</span>(item_prop[[<span class="st">&quot;labels&quot;</span>]][[lang]]<span class="sc">$</span>value)<span class="sc">==</span>F) {label <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;labels&quot;</span>]][[lang]]<span class="sc">$</span>value} <span class="cf">else</span> { label <span class="ot">&lt;-</span> <span class="cn">NA</span>}</span>
<span id="cb126-24"><a href="23-Wikidata.html#cb126-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">is.null</span>(item_prop[[<span class="st">&quot;descriptions&quot;</span>]][[lang]]<span class="sc">$</span>value)<span class="sc">==</span>F) {desc <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;descriptions&quot;</span>]][[lang]]<span class="sc">$</span>value}<span class="cf">else</span> { desc <span class="ot">&lt;-</span> <span class="cn">NA</span>}</span>
<span id="cb126-25"><a href="23-Wikidata.html#cb126-25" aria-hidden="true" tabindex="-1"></a>        add <span class="ot">&lt;-</span><span class="fu">data.frame</span>(id,lang,label)</span>
<span id="cb126-26"><a href="23-Wikidata.html#cb126-26" aria-hidden="true" tabindex="-1"></a>        res<span class="ot">&lt;-</span> <span class="fu">rbind</span>(res,add) </span>
<span id="cb126-27"><a href="23-Wikidata.html#cb126-27" aria-hidden="true" tabindex="-1"></a>           <span class="co"># Loop of aliases</span></span>
<span id="cb126-28"><a href="23-Wikidata.html#cb126-28" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> (<span class="fu">is.null</span>(item_prop[[<span class="st">&quot;aliases&quot;</span>]][[lang]])<span class="sc">==</span>F) {</span>
<span id="cb126-29"><a href="23-Wikidata.html#cb126-29" aria-hidden="true" tabindex="-1"></a>                ali <span class="ot">&lt;-</span> item_prop[[<span class="st">&quot;aliases&quot;</span>]][[lang]]<span class="sc">$</span>value</span>
<span id="cb126-30"><a href="23-Wikidata.html#cb126-30" aria-hidden="true" tabindex="-1"></a>                n<span class="ot">&lt;-</span><span class="fu">length</span>(ali)</span>
<span id="cb126-31"><a href="23-Wikidata.html#cb126-31" aria-hidden="true" tabindex="-1"></a>               <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb126-32"><a href="23-Wikidata.html#cb126-32" aria-hidden="true" tabindex="-1"></a>                        label <span class="ot">&lt;-</span> ali[k]</span>
<span id="cb126-33"><a href="23-Wikidata.html#cb126-33" aria-hidden="true" tabindex="-1"></a>                        add <span class="ot">&lt;-</span><span class="fu">data.frame</span>(id,lang,label)</span>
<span id="cb126-34"><a href="23-Wikidata.html#cb126-34" aria-hidden="true" tabindex="-1"></a>                        res<span class="ot">&lt;-</span> <span class="fu">rbind</span>(res,add) </span>
<span id="cb126-35"><a href="23-Wikidata.html#cb126-35" aria-hidden="true" tabindex="-1"></a>                  }</span>
<span id="cb126-36"><a href="23-Wikidata.html#cb126-36" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb126-37"><a href="23-Wikidata.html#cb126-37" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb126-38"><a href="23-Wikidata.html#cb126-38" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb126-39"><a href="23-Wikidata.html#cb126-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb126-40"><a href="23-Wikidata.html#cb126-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb126-41"><a href="23-Wikidata.html#cb126-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Export result</span></span>
<span id="cb126-42"><a href="23-Wikidata.html#cb126-42" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(res)</span>
<span id="cb126-43"><a href="23-Wikidata.html#cb126-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-44"><a href="23-Wikidata.html#cb126-44" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Let’s try the function on the case of the continent of “Africa” (Q15), the subregion “South of Africa” (Q27394) and the state of “Southern Africa” (Q258) in five languages :</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="23-Wikidata.html#cb127-1" aria-hidden="true" tabindex="-1"></a>tab<span class="ot">&lt;-</span> <span class="fu">extract_alias</span>(<span class="at">items =</span> <span class="fu">c</span>(<span class="st">&quot;Q15&quot;</span>, <span class="st">&quot;Q27394&quot;</span>, <span class="st">&quot;Q258&quot;</span>),</span>
<span id="cb127-2"><a href="23-Wikidata.html#cb127-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">langs =</span> <span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb127-3"><a href="23-Wikidata.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(tab)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">lang</th>
<th align="left">label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">fr</td>
<td align="left">Afrique</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">de</td>
<td align="left">Afrika</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">en</td>
<td align="left">Africa</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">en</td>
<td align="left">African continent</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">en</td>
<td align="left">Ancient Libya</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">tr</td>
<td align="left">Afrika</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">tr</td>
<td align="left">Afrika kıtası</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">إفريقيا</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">القارة الأفريقية</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">أفريقيا</td>
</tr>
<tr class="odd">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">إفريقية</td>
</tr>
<tr class="even">
<td align="left">Q15</td>
<td align="left">ar</td>
<td align="left">أفريقية</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">fr</td>
<td align="left">Afrique australe</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">de</td>
<td align="left">Südliches Afrika</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">de</td>
<td align="left">Südafrika</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">en</td>
<td align="left">Southern Africa</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">tr</td>
<td align="left">Güney Afrika</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">أفريقيا الجنوبية</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">إفريقيا الجنوبية</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">جنوبي أفريقيا</td>
</tr>
<tr class="odd">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">أفريقيا الجنوبيه</td>
</tr>
<tr class="even">
<td align="left">Q27394</td>
<td align="left">ar</td>
<td align="left">جنوب أفريقيا (منطقة)</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">Afrique du Sud</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">République sud-africaine</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">République d’Afrique du Sud</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">république sud-africaine</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">fr</td>
<td align="left">république d’Afrique du Sud</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">de</td>
<td align="left">Südafrika</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">de</td>
<td align="left">Suedafrika</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">de</td>
<td align="left">Republik Südafrika</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">South Africa</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">Republic of South Africa</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">RSA</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">SA</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">za</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">🇿🇦</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">en</td>
<td align="left">zaf</td>
</tr>
<tr class="even">
<td align="left">Q258</td>
<td align="left">tr</td>
<td align="left">Güney Afrika Cumhuriyeti</td>
</tr>
<tr class="odd">
<td align="left">Q258</td>
<td align="left">ar</td>
<td align="left">جنوب أفريقيا</td>
</tr>
</tbody>
</table>
<p>The function works !</p>
</div>
<div id="conclusion" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Conclusion</h3>
<p>It is now possible to develop a global research strategy for the analysis of world regions :</p>
<p><strong>1. Define a set of target regions in one language</strong> : In our example, it was based on the use of the term “Afrique” in french language, but we can imagine a different list.</p>
<p><strong>2. Identify the code of the wikidata entities associated to this target regions</strong> : We have generally a lot of entities of minor interest.</p>
<p><strong>3. Identify the code of the other wikidata entities that should be added for control</strong> : As we have seen, some entities are likely to create confusion and ambiguity in the definition of target entities. This entity will be transformed in compound or eliminate from the text before to look for the target entities.</p>
<p><strong>4. Extract the properties of the entities in the different languages of interest</strong> : this step can be an opportunity to return to step 1. For example, it it appears that some subdivisions of Africa are available in english or german language but not in french.</p>
<p><strong>5. Compare the definitions of Wikipedia entities in different languages</strong> : it is important to check if the assumption of identity of the entities is correct or not. If not, some entities will be eliminated from the list.</p>
<p><strong>6. Extract the dictionary of recognition of entities</strong> : which can be done in a multilanguage perspective.</p>
<p>It is obviously possible to apply the same procedure to different objects like organizations, people, etc…</p>
</div>
</div>
<div id="dictionary-of-world-regions" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Dictionary of world regions</h2>
<p>We realize a test of the method described above on a preliminary dictionary of world regions</p>
<div id="load-the-list-of-world-regions" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Load the list of world regions</h3>
<p>We start from a provisional list of 65 world regions established by C. Grasland :</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="23-Wikidata.html#cb128-1" aria-hidden="true" tabindex="-1"></a>ent<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="st">&quot;dict/wikireg_V1.csv&quot;</span>, </span>
<span id="cb128-2"><a href="23-Wikidata.html#cb128-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep=</span><span class="st">&quot;;&quot;</span>,</span>
<span id="cb128-3"><a href="23-Wikidata.html#cb128-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">header=</span>T,</span>
<span id="cb128-4"><a href="23-Wikidata.html#cb128-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
</div>
<div id="extract-définitions" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Extract définitions</h3>
<p>We extract the definitions of the regions in the different languages.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="23-Wikidata.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="do">## NOT RUN </span><span class="al">###</span></span>
<span id="cb129-2"><a href="23-Wikidata.html#cb129-2" aria-hidden="true" tabindex="-1"></a>worldreg_def <span class="ot">&lt;-</span> <span class="fu">extract_def</span>(ent<span class="sc">$</span>wikidata,<span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb129-3"><a href="23-Wikidata.html#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(<span class="at">x =</span> worldreg_def,</span>
<span id="cb129-4"><a href="23-Wikidata.html#cb129-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_def.csv&quot;</span>,</span>
<span id="cb129-5"><a href="23-Wikidata.html#cb129-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">fileEncoding =</span> <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb129-6"><a href="23-Wikidata.html#cb129-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb129-7"><a href="23-Wikidata.html#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(<span class="at">object =</span> worldreg_def, <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_def.RDS&quot;</span>)</span></code></pre></div>
</div>
<div id="extract-aliases-and-create-dictionary" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Extract aliases and create dictionary</h3>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="23-Wikidata.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="do">## NOT RUN </span><span class="al">###</span></span>
<span id="cb130-2"><a href="23-Wikidata.html#cb130-2" aria-hidden="true" tabindex="-1"></a>worldreg_dict <span class="ot">&lt;-</span> <span class="fu">extract_alias</span>(ent<span class="sc">$</span>wikidata,<span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb130-3"><a href="23-Wikidata.html#cb130-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(<span class="at">x =</span> worldreg_dict,</span>
<span id="cb130-4"><a href="23-Wikidata.html#cb130-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_dict.csv&quot;</span>,</span>
<span id="cb130-5"><a href="23-Wikidata.html#cb130-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">fileEncoding =</span> <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb130-6"><a href="23-Wikidata.html#cb130-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb130-7"><a href="23-Wikidata.html#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(<span class="at">object =</span> worldreg_dict, <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_dict.RDS&quot;</span>)</span></code></pre></div>
</div>
<div id="extract-dictionary-of-control-units" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Extract dictionary of control units</h3>
<p>We need to add a supplementary dictionary of units that are introduced in order to avoid confusion. For the moment it is limited to the state of southern Africa, but many other units shouyld be added like “<em>Europe 1</em>” (a french radio), “<em>Council of Europe</em>” (an organization), etc…</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="23-Wikidata.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="do">## NOT RUN </span><span class="al">###</span></span>
<span id="cb131-2"><a href="23-Wikidata.html#cb131-2" aria-hidden="true" tabindex="-1"></a>ent_ctrl <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Q258&quot;</span>,   <span class="co"># Republic of southern Africa</span></span>
<span id="cb131-3"><a href="23-Wikidata.html#cb131-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;Q8908&quot;</span>,   <span class="co"># Council of Europe</span></span>
<span id="cb131-4"><a href="23-Wikidata.html#cb131-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;Q314407&quot;</span>)  <span class="co"># French Radio Europe 1</span></span>
<span id="cb131-5"><a href="23-Wikidata.html#cb131-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-6"><a href="23-Wikidata.html#cb131-6" aria-hidden="true" tabindex="-1"></a>worldreg_ctrl <span class="ot">&lt;-</span> <span class="fu">extract_alias</span>(ent_ctrl,<span class="fu">c</span>(<span class="st">&quot;fr&quot;</span>,<span class="st">&quot;de&quot;</span>,<span class="st">&quot;en&quot;</span>,<span class="st">&quot;tr&quot;</span>,<span class="st">&quot;ar&quot;</span>))</span>
<span id="cb131-7"><a href="23-Wikidata.html#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(<span class="at">x =</span> worldreg_ctrl,</span>
<span id="cb131-8"><a href="23-Wikidata.html#cb131-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_ctrl.csv&quot;</span>,</span>
<span id="cb131-9"><a href="23-Wikidata.html#cb131-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">fileEncoding =</span> <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb131-10"><a href="23-Wikidata.html#cb131-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb131-11"><a href="23-Wikidata.html#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(<span class="at">object =</span> worldreg_ctrl, <span class="at">file =</span> <span class="st">&quot;dict/worldreg001_ctrl.RDS&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="detection-of-world-regions" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Detection of world regions</h2>
<p>We describe now how to apply the dictionary to our different media :</p>
<div id="example-of-le-figaro-fr_fra_figaro" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Example of “Le Figaro” (fr_FRA_figaro)</h3>
<p>Before to elaborate a generic function, we describe step by step the procedure :</p>
<div id="load-corpus" class="section level4" number="4.5.1.1">
<h4><span class="header-section-number">4.5.1.1</span> Load corpus</h4>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="23-Wikidata.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Load corpus</span></span>
<span id="cb132-2"><a href="23-Wikidata.html#cb132-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_FRA_figaro.RDS&quot;</span>)</span>
<span id="cb132-3"><a href="23-Wikidata.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(qd,<span class="dv">3</span>)</span></code></pre></div>
<pre><code>Corpus consisting of 128807 documents, showing 3 documents:

       Text Types Tokens Sentences        source       date regs nbregs
 1128863317    12     12         1 fr_FRA_figaro 2019-01-01           0
 1128915698    11     11         1 fr_FRA_figaro 2019-01-01           0
 1128915693     8      8         1 fr_FRA_figaro 2019-01-01           0</code></pre>
</div>
<div id="tokenize" class="section level4" number="4.5.1.2">
<h4><span class="header-section-number">4.5.1.2</span> Tokenize</h4>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="23-Wikidata.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize text</span></span>
<span id="cb134-2"><a href="23-Wikidata.html#cb134-2" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens</span>(qd)</span>
<span id="cb134-3"><a href="23-Wikidata.html#cb134-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-4"><a href="23-Wikidata.html#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Split french apostroph (optional )</span></span>
<span id="cb134-5"><a href="23-Wikidata.html#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="co">#toks&lt;- tokens_split(toks, &quot;&#39;&quot;)</span></span></code></pre></div>
</div>
<div id="load-dictionaries-and-create-compounds" class="section level4" number="4.5.1.3">
<h4><span class="header-section-number">4.5.1.3</span> Load dictionaries and create compounds</h4>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="23-Wikidata.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Control dictionary</span></span>
<span id="cb135-2"><a href="23-Wikidata.html#cb135-2" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;dict/worldreg001_ctrl.RDS&quot;</span>)</span>
<span id="cb135-3"><a href="23-Wikidata.html#cb135-3" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span>ctrl[ctrl<span class="sc">$</span>lang<span class="sc">==</span><span class="st">&quot;fr&quot;</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(ctrl<span class="sc">$</span>label)<span class="sc">==</span>F,]</span>
<span id="cb135-4"><a href="23-Wikidata.html#cb135-4" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span>ctrl[<span class="fu">ntoken</span>(ctrl<span class="sc">$</span>label)<span class="sc">&gt;</span><span class="dv">1</span>,]</span>
<span id="cb135-5"><a href="23-Wikidata.html#cb135-5" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens_compound</span>(toks,<span class="at">pattern=</span><span class="fu">phrase</span>(ctrl<span class="sc">$</span>label))</span>
<span id="cb135-6"><a href="23-Wikidata.html#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="23-Wikidata.html#cb135-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Target dictionary</span></span>
<span id="cb135-8"><a href="23-Wikidata.html#cb135-8" aria-hidden="true" tabindex="-1"></a>dict<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;dict/worldreg001_dict.RDS&quot;</span>)</span>
<span id="cb135-9"><a href="23-Wikidata.html#cb135-9" aria-hidden="true" tabindex="-1"></a>dict<span class="ot">&lt;-</span>dict[dict<span class="sc">$</span>lang<span class="sc">==</span><span class="st">&quot;fr&quot;</span> <span class="sc">&amp;</span> <span class="fu">is.na</span>(dict<span class="sc">$</span>label)<span class="sc">==</span>F,]</span>
<span id="cb135-10"><a href="23-Wikidata.html#cb135-10" aria-hidden="true" tabindex="-1"></a>target<span class="ot">&lt;-</span>dict[<span class="fu">ntoken</span>(dict<span class="sc">$</span>label)<span class="sc">&gt;</span><span class="dv">1</span>,]</span>
<span id="cb135-11"><a href="23-Wikidata.html#cb135-11" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens_compound</span>(toks,<span class="at">pattern=</span><span class="fu">phrase</span>(target<span class="sc">$</span>label))</span></code></pre></div>
</div>
<div id="store-world-regions-in-a-field" class="section level4" number="4.5.1.4">
<h4><span class="header-section-number">4.5.1.4</span> Store world regions in a field</h4>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="23-Wikidata.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create quanteda dictionary</span></span>
<span id="cb136-2"><a href="23-Wikidata.html#cb136-2" aria-hidden="true" tabindex="-1"></a>keys <span class="ot">&lt;-</span><span class="fu">gsub</span>(<span class="st">&quot; &quot;</span>,<span class="st">&quot;_&quot;</span>,dict<span class="sc">$</span>label)</span>
<span id="cb136-3"><a href="23-Wikidata.html#cb136-3" aria-hidden="true" tabindex="-1"></a>qd_dict<span class="ot">&lt;-</span><span class="fu">as.list</span>(keys)</span>
<span id="cb136-4"><a href="23-Wikidata.html#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(qd_dict)<span class="ot">&lt;-</span>dict<span class="sc">$</span>id</span>
<span id="cb136-5"><a href="23-Wikidata.html#cb136-5" aria-hidden="true" tabindex="-1"></a>qd_dict<span class="ot">&lt;-</span><span class="fu">dictionary</span>(qd_dict)</span>
<span id="cb136-6"><a href="23-Wikidata.html#cb136-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-7"><a href="23-Wikidata.html#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify geo tags (states or reg or org ...)</span></span>
<span id="cb136-8"><a href="23-Wikidata.html#cb136-8" aria-hidden="true" tabindex="-1"></a>toks_tags <span class="ot">&lt;-</span> <span class="fu">tokens_lookup</span>(toks, qd_dict)</span>
<span id="cb136-9"><a href="23-Wikidata.html#cb136-9" aria-hidden="true" tabindex="-1"></a>toks_tags <span class="ot">&lt;-</span> <span class="fu">lapply</span>(toks_tags, unique)</span>
<span id="cb136-10"><a href="23-Wikidata.html#cb136-10" aria-hidden="true" tabindex="-1"></a>toks_tags<span class="ot">&lt;-</span><span class="fu">as.tokens</span>(toks_tags)</span>
<span id="cb136-11"><a href="23-Wikidata.html#cb136-11" aria-hidden="true" tabindex="-1"></a>list_tags<span class="ot">&lt;-</span><span class="cf">function</span>(x){res<span class="ot">&lt;-</span><span class="fu">paste</span>(x, <span class="at">collapse=</span><span class="st">&#39; &#39;</span>)}</span>
<span id="cb136-12"><a href="23-Wikidata.html#cb136-12" aria-hidden="true" tabindex="-1"></a>qd<span class="sc">$</span>regs<span class="ot">&lt;-</span><span class="fu">as.character</span>(<span class="fu">lapply</span>(toks_tags,<span class="at">FUN=</span>list_tags))</span>
<span id="cb136-13"><a href="23-Wikidata.html#cb136-13" aria-hidden="true" tabindex="-1"></a>qd<span class="sc">$</span>nbregs<span class="ot">&lt;-</span><span class="fu">ntoken</span>(toks_tags)</span></code></pre></div>
</div>
<div id="check-results" class="section level4" number="4.5.1.5">
<h4><span class="header-section-number">4.5.1.5</span> Check results</h4>
<p>In order to check the results we print the sample of news where two world regions or more was present.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="23-Wikidata.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
<pre><code>
     0      1      2      3 
127503   1274     29      1 </code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="23-Wikidata.html#cb139-1" aria-hidden="true" tabindex="-1"></a>check<span class="ot">&lt;-</span>qd[qd<span class="sc">$</span>nbregs<span class="sc">&gt;</span><span class="dv">1</span>]</span>
<span id="cb139-2"><a href="23-Wikidata.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(check)</span></code></pre></div>
<table>
<colgroup>
<col width="8%" />
<col width="91%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1233402821</td>
<td align="left">Sommet Trump-Kim à Hanoï: quels enjeux pour les alliés des États-Unis en Europe et en Asie?</td>
</tr>
<tr class="even">
<td align="left">1257748531</td>
<td align="left">Tarkett réorganise sa production en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1273320449</td>
<td align="left">Asie, Afrique, Europe: la nouvelle stratégie de l’État islamique</td>
</tr>
<tr class="even">
<td align="left">1472261066</td>
<td align="left">Morning meeting AOF France / Europe - Début de séance dans le vert en perspective</td>
</tr>
<tr class="odd">
<td align="left">1487858483</td>
<td align="left">Afrique centrale, Amazonie… L’Australie n’est pas la seule région du globe touchée par des incendies dévastateurs</td>
</tr>
<tr class="even">
<td align="left">1538695782</td>
<td align="left">Afrique, Asie, Russie: ces pays qui prétendent échapper au coronavirus</td>
</tr>
<tr class="odd">
<td align="left">1566082859</td>
<td align="left">«On risque en Afrique d’avoir une mortalité beaucoup plus élevée qu’en Europe»</td>
</tr>
<tr class="even">
<td align="left">1614628752</td>
<td align="left">La filiale française de Hertz devrait être épargnée par la faillite en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1615672526</td>
<td align="left">Coronavirus: plus de 40.000 morts en Amérique latine et aux Caraïbes</td>
</tr>
<tr class="even">
<td align="left">1622310115</td>
<td align="left">Coronavirus: plus d’un million de cas en Amérique latine et aux Caraïbes</td>
</tr>
<tr class="odd">
<td align="left">1643134082</td>
<td align="left">Coronavirus: plus de 100.000 morts en Amérique latine et dans les Caraïbes</td>
</tr>
<tr class="even">
<td align="left">1644080764</td>
<td align="left">Un vent de sable du Sahara fait suffoquer les Caraïbes</td>
</tr>
<tr class="odd">
<td align="left">1655624031</td>
<td align="left">Covid-19: plus de 3 millions de cas en Amérique latine et aux Caraïbes</td>
</tr>
<tr class="even">
<td align="left">1669473785</td>
<td align="left">Coronavirus: plus de 4 millions de cas en Amérique latine et dans les Caraïbes</td>
</tr>
<tr class="odd">
<td align="left">1674749497</td>
<td align="left">Coronavirus: plus de 200.000 morts en Amérique latine et aux Caraïbes</td>
</tr>
<tr class="even">
<td align="left">1702445480</td>
<td align="left">General Motors et Honda font alliance en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1791252333</td>
<td align="left">Présidentielle américaine: Europe, Asie, Otan. Le monde retient son souffle</td>
</tr>
<tr class="even">
<td align="left">1822430945</td>
<td align="left">Telefonica vend ses tours de télécommunication en Europe et Amérique latine pour 7,7 milliards d’euros</td>
</tr>
<tr class="odd">
<td align="left">1855542096</td>
<td align="left">Polynésie: un marin chute d’un cargo et survit 16 heures dans l’océan Pacifique</td>
</tr>
<tr class="even">
<td align="left">1889567911</td>
<td align="left">Pénuries de puces: Stellantis suspend la production dans 5 usines en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1891681233</td>
<td align="left">Canal de Suez bloqué : quelles conséquences pour les opérations de l’armée française au Moyen-Orient et en Asie ?</td>
</tr>
<tr class="even">
<td align="left">1930291586</td>
<td align="left">Amazon prévoit d’embaucher 75.000 personnes en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1938506703</td>
<td align="left">Covid-19 : plus d’un million de décès en Amérique latine et aux Caraïbes</td>
</tr>
<tr class="even">
<td align="left">1957509487</td>
<td align="left">Deux cas de Covid-19 à bord d’une des premières croisières en Amérique du Nord depuis la pandémie</td>
</tr>
<tr class="odd">
<td align="left">1971360149</td>
<td align="left">Nike dopé à Wall Street par les solides ventes en Amérique du Nord et en ligne</td>
</tr>
<tr class="even">
<td align="left">1975903379</td>
<td align="left">Climat : le «dôme de chaleur» a déjà fait des dizaines de morts en Amérique du Nord</td>
</tr>
<tr class="odd">
<td align="left">1983023021</td>
<td align="left">Juin 2021 a été le mois de juin le plus chaud jamais mesuré en Amérique du Nord</td>
</tr>
<tr class="even">
<td align="left">2021112587</td>
<td align="left">Bab al-Mandab, «porte des lamentations» entre Afrique et Moyen-Orient</td>
</tr>
<tr class="odd">
<td align="left">2023259245</td>
<td align="left">Air Caraïbes et Corsair plongent aux Antilles</td>
</tr>
<tr class="even">
<td align="left">2055701082</td>
<td align="left">Bonduelle réduit la voilure en Amérique du Nord</td>
</tr>
</tbody>
</table>
<p>With only one exception (“Air Caraïbes” is not a region), we have obtained genuine cases of linkages between world regions. This cases ae not very frequent but interesting :</p>
<ol style="list-style-type: decimal">
<li>We have many examples of association of regions and states (“<em>Afrique, Asie, Russie</em>”) which clearly suggest that very large states are considered as equivalent to world regions (“<em>"Afrique centrale, Amazonie … L’Australie n’est pas la seule région du globe touchée par les incendies</em>”)</li>
<li>We notice some frequent associations like the dyad “<em>Amérique Latine / Caraïbes</em>” which is observed 7 times.</li>
</ol>
<p>We can produce another case for the difficult case of “<em>Europe (Q46)</em>” in order to see if we have not forgotten to control some compounds :</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="23-Wikidata.html#cb140-1" aria-hidden="true" tabindex="-1"></a>check<span class="ot">&lt;-</span>qd[qd<span class="sc">$</span>regs<span class="sc">==</span><span class="st">&quot;Q46&quot;</span>]</span>
<span id="cb140-2"><a href="23-Wikidata.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ndoc</span>(check)</span></code></pre></div>
<pre><code>[1] 387</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="23-Wikidata.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(check[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span></code></pre></div>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1129625564</td>
<td align="left">Contrôle des chômeurs : comment ça marche ailleurs en Europe ?</td>
</tr>
<tr class="even">
<td align="left">1147907423</td>
<td align="left">Le mur entre les deux Europe, un mirage pour l’avenir</td>
</tr>
<tr class="odd">
<td align="left">1162263438</td>
<td align="left">En Europe, le rejet de l’accord sur le Brexit fait craindre l’hypothèse d’un «no deal»</td>
</tr>
<tr class="even">
<td align="left">1165265804</td>
<td align="left">Marque «Big Mac» révoquée en Europe : qu’est-ce que ça change ?</td>
</tr>
<tr class="odd">
<td align="left">1171500116</td>
<td align="left">La Model 3 de Tesla autorisée à circuler en Europe</td>
</tr>
<tr class="even">
<td align="left">1171610557</td>
<td align="left">Europe: la lune de miel ratée entre Macron et Merkel</td>
</tr>
<tr class="odd">
<td align="left">1174229396</td>
<td align="left">Un congé paternité de dix jours minimum en Europe</td>
</tr>
<tr class="even">
<td align="left">1193017366</td>
<td align="left">Fusion Axa/XL : 711 postes potentiellement supprimés en Europe</td>
</tr>
<tr class="odd">
<td align="left">1193073299</td>
<td align="left">«Oney Bank sera la banque digitale du groupe BPCE en Europe»</td>
</tr>
<tr class="even">
<td align="left">1194469225</td>
<td align="left">La pêche électrique sera interdite en Europe en 2021</td>
</tr>
</tbody>
</table>
<p>The manual analysis of the 387 occurences of “Europe” reveals a very good performance. Only 10 news (i.e. less than 3% ) are related to entities different from the world region Europe. The mistakes are related to :</p>
<ul>
<li>other subregions of Europe with complements in upper case (e.g. “<em>Europe Centrale</em>”)</li>
<li>entities to be added to the control list like political parties (e.g. “<em>Europe Ecologie</em>”), companies (e.g. “<em>Google Europe</em>”), media (“<em>Radio Free Europe</em>”), films (“<em>Princesse Europe</em>”), …</li>
</ul>
<p>But as a whole the number of mistakes is very reduced and could be debated in certain cases : “Google Europe” can be considered for example as a reference to the world region Europe.</p>
<p>The third check made on America reveals that the procedure of tagging is correct from textual point of view (20 occurences of “<em>Amérique</em>” are observed) but not from the semantic point of view. In all cases but one, the text “Amérique” is in fact associated to USA (<strong>Q30</strong>) and not to the continent of America (<strong>Q828</strong>). It means that in this particular case, the ontology of Wikipedia is associated to a systematic error (95%).</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="23-Wikidata.html#cb143-1" aria-hidden="true" tabindex="-1"></a>check<span class="ot">&lt;-</span>qd[qd<span class="sc">$</span>regs<span class="sc">==</span><span class="st">&quot;Q828&quot;</span>]</span>
<span id="cb143-2"><a href="23-Wikidata.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ndoc</span>(check)</span></code></pre></div>
<pre><code>[1] 20</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="23-Wikidata.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(check)</span></code></pre></div>
<table>
<colgroup>
<col width="9%" />
<col width="90%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="left">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1235792670</td>
<td align="left">A l’ONU, Angelina Jolie plaide pour une Amérique impliquée dans le monde</td>
</tr>
<tr class="even">
<td align="left">1329952114</td>
<td align="left">Trump va exalter une Amérique rassemblée dans son discours controversé du 4 juillet</td>
</tr>
<tr class="odd">
<td align="left">1392884385</td>
<td align="left">Festival de Deauville: le triomphe de Bull, portrait d’une Amérique à l’abandon</td>
</tr>
<tr class="even">
<td align="left">1467944990</td>
<td align="left">Mémoires d’Amérique, de John Edgar Wideman: être un Noir en Amérique</td>
</tr>
<tr class="odd">
<td align="left">1623085311</td>
<td align="left">Joe Biden relance sa campagne dans une Amérique embrasée par la mort de George Floyd</td>
</tr>
<tr class="even">
<td align="left">1706477036</td>
<td align="left">Nostalgie d’un autre monde, d’Ottessa Mosfegh: pauvre Amérique</td>
</tr>
<tr class="odd">
<td align="left">1711967705</td>
<td align="left">Deux sortes d’hommes: les aventures inédites de Johnny en Amérique</td>
</tr>
<tr class="even">
<td align="left">1721258584</td>
<td align="left">Madeleine Albright: «Je souhaite le retour d’une Amérique généreuse et charitable»</td>
</tr>
<tr class="odd">
<td align="left">1721934240</td>
<td align="left">«New York Cannibals» de Boucq et Charyn : course-poursuite dans une Amérique folle à lier</td>
</tr>
<tr class="even">
<td align="left">1739715186</td>
<td align="left">Périscope N° 23 : La guerre civile couve-t-elle en Amérique?</td>
</tr>
<tr class="odd">
<td align="left">1749481184</td>
<td align="left">Présidentielle: une Amérique polarisée à l’extrême face à un choix existentiel</td>
</tr>
<tr class="even">
<td align="left">1751973473</td>
<td align="left">La Pennsylvanie, champ de bataille et baromètre d’une Amérique divisée</td>
</tr>
<tr class="odd">
<td align="left">1779295690</td>
<td align="left">Joe Biden annonce le retour d’une Amérique «prête à guider le monde»</td>
</tr>
<tr class="even">
<td align="left">1822984973</td>
<td align="left">Joe Biden au chevet d’une Amérique en  récession prête à rebondir</td>
</tr>
<tr class="odd">
<td align="left">1824745835</td>
<td align="left">Voyage au cœur d’une Amérique déchirée</td>
</tr>
<tr class="even">
<td align="left">1858468930</td>
<td align="left">Ces perles de verre vénitiennes retrouvées en Alaska se trouvaient en Amérique avant Christophe Colomb</td>
</tr>
<tr class="odd">
<td align="left">1891681226</td>
<td align="left">Mort de George Floyd: procès à haut risque dans une Amérique fracturée</td>
</tr>
<tr class="even">
<td align="left">1900048007</td>
<td align="left">Alerte rouge en Amérique face à la pénurie de ketchup en sachet</td>
</tr>
<tr class="odd">
<td align="left">1915868003</td>
<td align="left">Face au Congrès, Biden vante une Amérique allant «de nouveau de l’avant»</td>
</tr>
<tr class="even">
<td align="left">2039056596</td>
<td align="left">11-Septembre: à New York, le tombeau d’une Amérique disparue</td>
</tr>
</tbody>
</table>
</div>
<div id="what-about-the-apostroph" class="section level4" number="4.5.1.6">
<h4><span class="header-section-number">4.5.1.6</span> What about the apostroph ’ ?</h4>
<p>This example of “Amérique” reveals another problem which is related to the tokenization. In our example we have found only 20 occurences of “<em>Amérique</em>” because the dictionary extracted from Wikipedia has not included the textual units “<em>l’Amérique</em>” which appears in 144 news of the textual unit“<em>d’Amérique</em>” which is present in 22 news. We have therefore cleary understimate the real number of mention and the same is cetainly also true for other names of world regions like <em>“l’Europe”</em> (477 cases), <em>“l’Afrique”</em> (98 cases), <em>“l’Asie”</em> (16 cases).</p>
<p>It appears therfore more relevant - at less in the french case - to replace the apostroph by a blank …</p>
</div>
</div>
</div>
<div id="tagging-function" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Tagging function</h2>
<p>We try therefore to elaborate a function where the user can decide (optionally) to remove the apostroph and/or to use lower case.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="23-Wikidata.html#cb146-1" aria-hidden="true" tabindex="-1"></a>extract_tags <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">qd =</span> qd,             <span class="co"># the corpus of interest</span></span>
<span id="cb146-2"><a href="23-Wikidata.html#cb146-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">lang =</span> <span class="st">&quot;fr&quot;</span>,         <span class="co"># the language to be used</span></span>
<span id="cb146-3"><a href="23-Wikidata.html#cb146-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">dict =</span> dict,         <span class="co"># the dictionary of target entities</span></span>
<span id="cb146-4"><a href="23-Wikidata.html#cb146-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ctrl =</span> ctrl,         <span class="co"># the dictionary of entities to be controled</span></span>
<span id="cb146-5"><a href="23-Wikidata.html#cb146-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">split  =</span> <span class="cn">TRUE</span>,       <span class="co"># keep apostrophs ? </span></span>
<span id="cb146-6"><a href="23-Wikidata.html#cb146-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">tolow =</span> <span class="cn">FALSE</span>      <span class="co"># Tokenize text</span></span>
<span id="cb146-7"><a href="23-Wikidata.html#cb146-7" aria-hidden="true" tabindex="-1"></a>                         )</span>
<span id="cb146-8"><a href="23-Wikidata.html#cb146-8" aria-hidden="true" tabindex="-1"></a>{ </span>
<span id="cb146-9"><a href="23-Wikidata.html#cb146-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-10"><a href="23-Wikidata.html#cb146-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb146-11"><a href="23-Wikidata.html#cb146-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize  </span></span>
<span id="cb146-12"><a href="23-Wikidata.html#cb146-12" aria-hidden="true" tabindex="-1"></a>x<span class="ot">&lt;-</span><span class="fu">texts</span>(qd)</span>
<span id="cb146-13"><a href="23-Wikidata.html#cb146-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(split) { x <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;&#39;&quot;</span>,<span class="st">&quot; &quot;</span>,x)}  </span>
<span id="cb146-14"><a href="23-Wikidata.html#cb146-14" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tolow) { x <span class="ot">&lt;-</span> <span class="fu">tolower</span>(x)} </span>
<span id="cb146-15"><a href="23-Wikidata.html#cb146-15" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens</span>(x)</span>
<span id="cb146-16"><a href="23-Wikidata.html#cb146-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-17"><a href="23-Wikidata.html#cb146-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-18"><a href="23-Wikidata.html#cb146-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb146-19"><a href="23-Wikidata.html#cb146-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dictionaries and create compounds</span></span>
<span id="cb146-20"><a href="23-Wikidata.html#cb146-20" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Control dictionary</span></span>
<span id="cb146-21"><a href="23-Wikidata.html#cb146-21" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span>ctrl[ctrl<span class="sc">$</span>lang<span class="sc">==</span>lang <span class="sc">&amp;</span> <span class="fu">is.na</span>(ctrl<span class="sc">$</span>label)<span class="sc">==</span>F,]</span>
<span id="cb146-22"><a href="23-Wikidata.html#cb146-22" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span>ctrl[<span class="fu">ntoken</span>(ctrl<span class="sc">$</span>label)<span class="sc">&gt;</span><span class="dv">1</span>,]</span>
<span id="cb146-23"><a href="23-Wikidata.html#cb146-23" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span>ctrl<span class="sc">$</span>label</span>
<span id="cb146-24"><a href="23-Wikidata.html#cb146-24" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(split) {labels<span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;&#39;&quot;</span>,<span class="st">&quot; &quot;</span>,labels)}  </span>
<span id="cb146-25"><a href="23-Wikidata.html#cb146-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tolow) {labels <span class="ot">&lt;-</span> <span class="fu">tolower</span>(labels)}  </span>
<span id="cb146-26"><a href="23-Wikidata.html#cb146-26" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens_compound</span>(toks,<span class="at">pattern=</span><span class="fu">phrase</span>(labels))</span>
<span id="cb146-27"><a href="23-Wikidata.html#cb146-27" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Target dictionary</span></span>
<span id="cb146-28"><a href="23-Wikidata.html#cb146-28" aria-hidden="true" tabindex="-1"></a>dict<span class="ot">&lt;-</span>dict[dict<span class="sc">$</span>lang<span class="sc">==</span>lang <span class="sc">&amp;</span> <span class="fu">is.na</span>(dict<span class="sc">$</span>label)<span class="sc">==</span>F,]</span>
<span id="cb146-29"><a href="23-Wikidata.html#cb146-29" aria-hidden="true" tabindex="-1"></a>target<span class="ot">&lt;-</span>dict[<span class="fu">ntoken</span>(dict<span class="sc">$</span>label)<span class="sc">&gt;</span><span class="dv">1</span>,]</span>
<span id="cb146-30"><a href="23-Wikidata.html#cb146-30" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span>dict<span class="sc">$</span>label</span>
<span id="cb146-31"><a href="23-Wikidata.html#cb146-31" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(split) {labels<span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;&#39;&quot;</span>,<span class="st">&quot; &quot;</span>,labels)}  </span>
<span id="cb146-32"><a href="23-Wikidata.html#cb146-32" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(tolow)       {labels <span class="ot">&lt;-</span> <span class="fu">tolower</span>(labels)}  </span>
<span id="cb146-33"><a href="23-Wikidata.html#cb146-33" aria-hidden="true" tabindex="-1"></a>toks<span class="ot">&lt;-</span><span class="fu">tokens_compound</span>(toks,<span class="at">pattern=</span><span class="fu">phrase</span>(labels))</span>
<span id="cb146-34"><a href="23-Wikidata.html#cb146-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb146-35"><a href="23-Wikidata.html#cb146-35" aria-hidden="true" tabindex="-1"></a> <span class="co"># create quanteda dictionary</span></span>
<span id="cb146-36"><a href="23-Wikidata.html#cb146-36" aria-hidden="true" tabindex="-1"></a>keys <span class="ot">&lt;-</span><span class="fu">gsub</span>(<span class="st">&quot; &quot;</span>,<span class="st">&quot;_&quot;</span>,labels)</span>
<span id="cb146-37"><a href="23-Wikidata.html#cb146-37" aria-hidden="true" tabindex="-1"></a>qd_dict<span class="ot">&lt;-</span><span class="fu">as.list</span>(keys)</span>
<span id="cb146-38"><a href="23-Wikidata.html#cb146-38" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(qd_dict)<span class="ot">&lt;-</span>dict<span class="sc">$</span>id</span>
<span id="cb146-39"><a href="23-Wikidata.html#cb146-39" aria-hidden="true" tabindex="-1"></a>qd_dict<span class="ot">&lt;-</span><span class="fu">dictionary</span>(qd_dict)</span>
<span id="cb146-40"><a href="23-Wikidata.html#cb146-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-41"><a href="23-Wikidata.html#cb146-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify geo tags (states or reg or org ...)</span></span>
<span id="cb146-42"><a href="23-Wikidata.html#cb146-42" aria-hidden="true" tabindex="-1"></a>toks_tags <span class="ot">&lt;-</span> <span class="fu">tokens_lookup</span>(toks, qd_dict)</span>
<span id="cb146-43"><a href="23-Wikidata.html#cb146-43" aria-hidden="true" tabindex="-1"></a>toks_tags <span class="ot">&lt;-</span> <span class="fu">lapply</span>(toks_tags, unique)</span>
<span id="cb146-44"><a href="23-Wikidata.html#cb146-44" aria-hidden="true" tabindex="-1"></a>toks_tags<span class="ot">&lt;-</span><span class="fu">as.tokens</span>(toks_tags)</span>
<span id="cb146-45"><a href="23-Wikidata.html#cb146-45" aria-hidden="true" tabindex="-1"></a>list_tags<span class="ot">&lt;-</span><span class="cf">function</span>(x){res<span class="ot">&lt;-</span><span class="fu">paste</span>(x, <span class="at">collapse=</span><span class="st">&#39; &#39;</span>)}</span>
<span id="cb146-46"><a href="23-Wikidata.html#cb146-46" aria-hidden="true" tabindex="-1"></a>qd<span class="sc">$</span>regs<span class="ot">&lt;-</span><span class="fu">as.character</span>(<span class="fu">lapply</span>(toks_tags,<span class="at">FUN=</span>list_tags))</span>
<span id="cb146-47"><a href="23-Wikidata.html#cb146-47" aria-hidden="true" tabindex="-1"></a>qd<span class="sc">$</span>nbregs<span class="ot">&lt;-</span><span class="fu">ntoken</span>(toks_tags)</span>
<span id="cb146-48"><a href="23-Wikidata.html#cb146-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-49"><a href="23-Wikidata.html#cb146-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Export results</span></span>
<span id="cb146-50"><a href="23-Wikidata.html#cb146-50" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(qd)</span>
<span id="cb146-51"><a href="23-Wikidata.html#cb146-51" aria-hidden="true" tabindex="-1"></a> }</span></code></pre></div>
<div id="le-figaro-1" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Le Figaro</h3>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="23-Wikidata.html#cb147-1" aria-hidden="true" tabindex="-1"></a>ctrl<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;dict/worldreg001_ctrl.RDS&quot;</span>)</span>
<span id="cb147-2"><a href="23-Wikidata.html#cb147-2" aria-hidden="true" tabindex="-1"></a>dict<span class="ot">&lt;-</span><span class="fu">readRDS</span>(<span class="st">&quot;dict/worldreg001_dict.RDS&quot;</span>)</span>
<span id="cb147-3"><a href="23-Wikidata.html#cb147-3" aria-hidden="true" tabindex="-1"></a>dict<span class="ot">&lt;-</span>dict[dict<span class="sc">$</span>id <span class="sc">!=</span> <span class="st">&quot;Q2017699&quot;</span>,]  <span class="co"># Correct Mistake</span></span>
<span id="cb147-4"><a href="23-Wikidata.html#cb147-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-5"><a href="23-Wikidata.html#cb147-5" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_FRA_figaro.RDS&quot;</span>)</span>
<span id="cb147-6"><a href="23-Wikidata.html#cb147-6" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb147-7"><a href="23-Wikidata.html#cb147-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;fr&quot;</span>,</span>
<span id="cb147-8"><a href="23-Wikidata.html#cb147-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb147-9"><a href="23-Wikidata.html#cb147-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb147-10"><a href="23-Wikidata.html#cb147-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb147-11"><a href="23-Wikidata.html#cb147-11" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb147-12"><a href="23-Wikidata.html#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/fr_FRA_figaro.RDS&quot;</span>)</span>
<span id="cb147-13"><a href="23-Wikidata.html#cb147-13" aria-hidden="true" tabindex="-1"></a>qd1<span class="ot">&lt;-</span>qd</span></code></pre></div>
</div>
<div id="le-monde-1" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Le Monde</h3>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="23-Wikidata.html#cb148-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_FRA_lmonde.RDS&quot;</span>)</span>
<span id="cb148-2"><a href="23-Wikidata.html#cb148-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb148-3"><a href="23-Wikidata.html#cb148-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;fr&quot;</span>,</span>
<span id="cb148-4"><a href="23-Wikidata.html#cb148-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb148-5"><a href="23-Wikidata.html#cb148-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb148-6"><a href="23-Wikidata.html#cb148-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb148-7"><a href="23-Wikidata.html#cb148-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb148-8"><a href="23-Wikidata.html#cb148-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/fr_FRA_lmonde.RDS&quot;</span>)</span>
<span id="cb148-9"><a href="23-Wikidata.html#cb148-9" aria-hidden="true" tabindex="-1"></a>qd2<span class="ot">&lt;-</span>qd</span></code></pre></div>
</div>
<div id="faz" class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> FAZ</h3>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="23-Wikidata.html#cb149-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/de_DEU_frankf.RDS&quot;</span>)</span>
<span id="cb149-2"><a href="23-Wikidata.html#cb149-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb149-3"><a href="23-Wikidata.html#cb149-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;de&quot;</span>,</span>
<span id="cb149-4"><a href="23-Wikidata.html#cb149-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb149-5"><a href="23-Wikidata.html#cb149-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb149-6"><a href="23-Wikidata.html#cb149-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb149-7"><a href="23-Wikidata.html#cb149-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb149-8"><a href="23-Wikidata.html#cb149-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/de_DEU_frankf.RDS&quot;</span>)</span>
<span id="cb149-9"><a href="23-Wikidata.html#cb149-9" aria-hidden="true" tabindex="-1"></a>qd3<span class="ot">&lt;-</span>qd</span>
<span id="cb149-10"><a href="23-Wikidata.html#cb149-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="süddeutsche-zeitung-1" class="section level3" number="4.6.4">
<h3><span class="header-section-number">4.6.4</span> Süddeutsche Zeitung</h3>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="23-Wikidata.html#cb150-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/de_DEU_suddeu.RDS&quot;</span>)</span>
<span id="cb150-2"><a href="23-Wikidata.html#cb150-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb150-3"><a href="23-Wikidata.html#cb150-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;de&quot;</span>,</span>
<span id="cb150-4"><a href="23-Wikidata.html#cb150-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb150-5"><a href="23-Wikidata.html#cb150-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb150-6"><a href="23-Wikidata.html#cb150-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb150-7"><a href="23-Wikidata.html#cb150-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb150-8"><a href="23-Wikidata.html#cb150-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/de_DEU_suddeu.RDS&quot;</span>)</span>
<span id="cb150-9"><a href="23-Wikidata.html#cb150-9" aria-hidden="true" tabindex="-1"></a>qd4<span class="ot">&lt;-</span>qd</span>
<span id="cb150-10"><a href="23-Wikidata.html#cb150-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="guardian" class="section level3" number="4.6.5">
<h3><span class="header-section-number">4.6.5</span> Guardian</h3>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="23-Wikidata.html#cb151-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/en_GBR_guardi.RDS&quot;</span>)</span>
<span id="cb151-2"><a href="23-Wikidata.html#cb151-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb151-3"><a href="23-Wikidata.html#cb151-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;en&quot;</span>,</span>
<span id="cb151-4"><a href="23-Wikidata.html#cb151-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb151-5"><a href="23-Wikidata.html#cb151-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb151-6"><a href="23-Wikidata.html#cb151-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb151-7"><a href="23-Wikidata.html#cb151-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb151-8"><a href="23-Wikidata.html#cb151-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/en_GBR_guardi.RDS&quot;</span>)</span>
<span id="cb151-9"><a href="23-Wikidata.html#cb151-9" aria-hidden="true" tabindex="-1"></a>qd5<span class="ot">&lt;-</span>qd</span>
<span id="cb151-10"><a href="23-Wikidata.html#cb151-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="daily-telegraph" class="section level3" number="4.6.6">
<h3><span class="header-section-number">4.6.6</span> Daily Telegraph</h3>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="23-Wikidata.html#cb152-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/en_GBR_telegr.RDS&quot;</span>)</span>
<span id="cb152-2"><a href="23-Wikidata.html#cb152-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb152-3"><a href="23-Wikidata.html#cb152-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;en&quot;</span>,</span>
<span id="cb152-4"><a href="23-Wikidata.html#cb152-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb152-5"><a href="23-Wikidata.html#cb152-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb152-6"><a href="23-Wikidata.html#cb152-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb152-7"><a href="23-Wikidata.html#cb152-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb152-8"><a href="23-Wikidata.html#cb152-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/en_GBR_telegr.RDS&quot;</span>)</span>
<span id="cb152-9"><a href="23-Wikidata.html#cb152-9" aria-hidden="true" tabindex="-1"></a>qd6<span class="ot">&lt;-</span>qd</span>
<span id="cb152-10"><a href="23-Wikidata.html#cb152-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="belfast-telegraph" class="section level3" number="4.6.7">
<h3><span class="header-section-number">4.6.7</span> Belfast Telegraph</h3>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="23-Wikidata.html#cb153-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/en_NIR_beltel.RDS&quot;</span>)</span>
<span id="cb153-2"><a href="23-Wikidata.html#cb153-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb153-3"><a href="23-Wikidata.html#cb153-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;en&quot;</span>,</span>
<span id="cb153-4"><a href="23-Wikidata.html#cb153-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb153-5"><a href="23-Wikidata.html#cb153-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb153-6"><a href="23-Wikidata.html#cb153-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb153-7"><a href="23-Wikidata.html#cb153-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb153-8"><a href="23-Wikidata.html#cb153-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/en_NIR_beltel.RDS&quot;</span>)</span>
<span id="cb153-9"><a href="23-Wikidata.html#cb153-9" aria-hidden="true" tabindex="-1"></a>qd7<span class="ot">&lt;-</span>qd</span>
<span id="cb153-10"><a href="23-Wikidata.html#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="irish-times" class="section level3" number="4.6.8">
<h3><span class="header-section-number">4.6.8</span> Irish Times</h3>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="23-Wikidata.html#cb154-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/en_IRL_irtime.RDS&quot;</span>)</span>
<span id="cb154-2"><a href="23-Wikidata.html#cb154-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb154-3"><a href="23-Wikidata.html#cb154-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;en&quot;</span>,</span>
<span id="cb154-4"><a href="23-Wikidata.html#cb154-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb154-5"><a href="23-Wikidata.html#cb154-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb154-6"><a href="23-Wikidata.html#cb154-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb154-7"><a href="23-Wikidata.html#cb154-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb154-8"><a href="23-Wikidata.html#cb154-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/en_IRL_irtime.RDS&quot;</span>)</span>
<span id="cb154-9"><a href="23-Wikidata.html#cb154-9" aria-hidden="true" tabindex="-1"></a>qd8<span class="ot">&lt;-</span>qd</span>
<span id="cb154-10"><a href="23-Wikidata.html#cb154-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="cumhuryet-1" class="section level3" number="4.6.9">
<h3><span class="header-section-number">4.6.9</span> Cumhuryet</h3>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="23-Wikidata.html#cb155-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/tr_TUR_cumhur.RDS&quot;</span>)</span>
<span id="cb155-2"><a href="23-Wikidata.html#cb155-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb155-3"><a href="23-Wikidata.html#cb155-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;tr&quot;</span>,</span>
<span id="cb155-4"><a href="23-Wikidata.html#cb155-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb155-5"><a href="23-Wikidata.html#cb155-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb155-6"><a href="23-Wikidata.html#cb155-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb155-7"><a href="23-Wikidata.html#cb155-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb155-8"><a href="23-Wikidata.html#cb155-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/tr_TUR_cumhur.RDS&quot;</span>)</span>
<span id="cb155-9"><a href="23-Wikidata.html#cb155-9" aria-hidden="true" tabindex="-1"></a>qd9<span class="ot">&lt;-</span>qd</span>
<span id="cb155-10"><a href="23-Wikidata.html#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="yeni-safak" class="section level3" number="4.6.10">
<h3><span class="header-section-number">4.6.10</span> Yeni Safak</h3>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="23-Wikidata.html#cb156-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/tr_TUR_yenisa.RDS&quot;</span>)</span>
<span id="cb156-2"><a href="23-Wikidata.html#cb156-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb156-3"><a href="23-Wikidata.html#cb156-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;tr&quot;</span>,</span>
<span id="cb156-4"><a href="23-Wikidata.html#cb156-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb156-5"><a href="23-Wikidata.html#cb156-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb156-6"><a href="23-Wikidata.html#cb156-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb156-7"><a href="23-Wikidata.html#cb156-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb156-8"><a href="23-Wikidata.html#cb156-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/tr_TUR_yenisa.RDS&quot;</span>)</span>
<span id="cb156-9"><a href="23-Wikidata.html#cb156-9" aria-hidden="true" tabindex="-1"></a>qd10<span class="ot">&lt;-</span>qd</span>
<span id="cb156-10"><a href="23-Wikidata.html#cb156-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="babnet-1" class="section level3" number="4.6.11">
<h3><span class="header-section-number">4.6.11</span> Babnet</h3>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="23-Wikidata.html#cb157-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/ar_TUN_babnet.RDS&quot;</span>)</span>
<span id="cb157-2"><a href="23-Wikidata.html#cb157-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb157-3"><a href="23-Wikidata.html#cb157-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;ar&quot;</span>,</span>
<span id="cb157-4"><a href="23-Wikidata.html#cb157-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb157-5"><a href="23-Wikidata.html#cb157-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb157-6"><a href="23-Wikidata.html#cb157-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb157-7"><a href="23-Wikidata.html#cb157-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb157-8"><a href="23-Wikidata.html#cb157-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/ar_TUN_babnet.RDS&quot;</span>)</span>
<span id="cb157-9"><a href="23-Wikidata.html#cb157-9" aria-hidden="true" tabindex="-1"></a>qd11<span class="ot">&lt;-</span>qd</span>
<span id="cb157-10"><a href="23-Wikidata.html#cb157-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="réalités-1" class="section level3" number="4.6.12">
<h3><span class="header-section-number">4.6.12</span> Réalités</h3>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="23-Wikidata.html#cb158-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_TUN_realit.RDS&quot;</span>)</span>
<span id="cb158-2"><a href="23-Wikidata.html#cb158-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb158-3"><a href="23-Wikidata.html#cb158-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;fr&quot;</span>,</span>
<span id="cb158-4"><a href="23-Wikidata.html#cb158-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb158-5"><a href="23-Wikidata.html#cb158-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb158-6"><a href="23-Wikidata.html#cb158-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb158-7"><a href="23-Wikidata.html#cb158-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb158-8"><a href="23-Wikidata.html#cb158-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/fr_TUN_realit.RDS&quot;</span>)</span>
<span id="cb158-9"><a href="23-Wikidata.html#cb158-9" aria-hidden="true" tabindex="-1"></a>qd12<span class="ot">&lt;-</span>qd</span>
<span id="cb158-10"><a href="23-Wikidata.html#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="economiste-maghrebin" class="section level3" number="4.6.13">
<h3><span class="header-section-number">4.6.13</span> Economiste Maghrebin</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="23-Wikidata.html#cb159-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_TUN_ecomag.RDS&quot;</span>)</span>
<span id="cb159-2"><a href="23-Wikidata.html#cb159-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb159-3"><a href="23-Wikidata.html#cb159-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;fr&quot;</span>,</span>
<span id="cb159-4"><a href="23-Wikidata.html#cb159-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb159-5"><a href="23-Wikidata.html#cb159-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb159-6"><a href="23-Wikidata.html#cb159-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb159-7"><a href="23-Wikidata.html#cb159-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb159-8"><a href="23-Wikidata.html#cb159-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/fr_TUN_ecomag.RDS&quot;</span>)</span>
<span id="cb159-9"><a href="23-Wikidata.html#cb159-9" aria-hidden="true" tabindex="-1"></a>qd13<span class="ot">&lt;-</span>qd</span>
<span id="cb159-10"><a href="23-Wikidata.html#cb159-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="la-presse-1" class="section level3" number="4.6.14">
<h3><span class="header-section-number">4.6.14</span> La Presse</h3>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="23-Wikidata.html#cb160-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;quanteda/fr_TUN_presse.RDS&quot;</span>)</span>
<span id="cb160-2"><a href="23-Wikidata.html#cb160-2" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">extract_tags</span> (<span class="at">qd =</span> qd,</span>
<span id="cb160-3"><a href="23-Wikidata.html#cb160-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">lang=</span><span class="st">&quot;fr&quot;</span>,</span>
<span id="cb160-4"><a href="23-Wikidata.html#cb160-4" aria-hidden="true" tabindex="-1"></a>                     <span class="at">dict =</span> dict,</span>
<span id="cb160-5"><a href="23-Wikidata.html#cb160-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ctrl =</span> ctrl,</span>
<span id="cb160-6"><a href="23-Wikidata.html#cb160-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">split =</span> <span class="cn">TRUE</span>,</span>
<span id="cb160-7"><a href="23-Wikidata.html#cb160-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">tolow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb160-8"><a href="23-Wikidata.html#cb160-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/fr_TUN_presse.RDS&quot;</span>)</span>
<span id="cb160-9"><a href="23-Wikidata.html#cb160-9" aria-hidden="true" tabindex="-1"></a>qd14<span class="ot">&lt;-</span>qd</span>
<span id="cb160-10"><a href="23-Wikidata.html#cb160-10" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(qd<span class="sc">$</span>nbregs)</span></code></pre></div>
</div>
<div id="global-corpus" class="section level3" number="4.6.15">
<h3><span class="header-section-number">4.6.15</span> Global corpus</h3>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="23-Wikidata.html#cb161-1" aria-hidden="true" tabindex="-1"></a>qd <span class="ot">&lt;-</span> <span class="fu">c</span>(qd1,qd2,qd3,qd4,qd5,qd6,qd7,qd8,qd9,qd10,qd11,qd12,qd13,qd14)</span>
<span id="cb161-2"><a href="23-Wikidata.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(qd,<span class="st">&quot;quanteda/corpus_worldreg_001.RDS&quot;</span>)</span></code></pre></div>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>second largest continent in the world in terms of area and population, comes second only to Asia.<a href="23-Wikidata.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="22-mediacloud_to_quanteda.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="24-Hypercube.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ClaudeGrasland/media_cookbook/blob/master/23-Wikidata.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
