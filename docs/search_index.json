[["23-Wikidata.html", "Chapter 4 Wikidata 4.1 Introduction 4.2 Wikidata 4.3 The package WikidataR 4.4 Dictionary of world regions 4.5 Detection of world regions 4.6 Tagging function", " Chapter 4 Wikidata library(knitr) library(dplyr) library(WikidataR) library(quanteda) Authors : Claude Grasland &amp; Etienne Toureille 4.1 Introduction The objective of this short note is to explore the possibility of Wikidata for the production of multilingual dictionaries of world regions and more generally regional imaginations. In order to test the interest of this approach, we will try to produce multilingual dictionaries for the identification of five groups of entities : Europe and its subregions Africa and its subregions Asia and its subregions Mediterranea Middle East, Near East, Persian Gulf â€¦ The dictionary will be established in five languages of interest for the project IMAGEUN : english : applied to media of UK and Ireland french : applied to media of France and Tunisia german : applied to media of Germany turkish : applied to media of Turkey arabic : applied to media of Tunisia 4.2 Wikidata Wikidata defines itself as a free and open knowledge base that can be read and edited by both humans and machines. as central storage for the structured data of its Wikimedia sister projects including Wikipedia, Wikivoyage, Wiktionary, Wikisource, and others. a support to many other sites and services beyond just Wikimedia projects! The content of Wikidata is available under a free license, exported using standard formats, and can be interlinked to other open data sets on the linked data web. 4.2.1 Codification of entities The first interest of wikidata is to provide unique code of identifications of objects. For example a research about â€œAfricaâ€ will produce a list of different objects characterized by a unique code : knitr::include_graphics(&quot;pics/Wikidata001.png&quot;) 4.2.2 Informations on entities Once we have selected an entity (e.g. Q15) we obtain a new page with more detailed informations in english but also in all other languages available in Wikipedia. knitr::include_graphics(&quot;pics/Wikidata002.png&quot;) A lot of information are available concerning the entity but, at this stage, the most important ones for our research are : the translation in different languages the equivalent words or expression in different languages the definitions in different languages the ambiguity of the term in each language and the potential risks of confusion with other entities. Of course we should not take for granted the answers proposed by wikidata (as noticed by Georg, Wikipedia is a matter of research for IMAGEUN â€¦) but without any doubt, it offers a very good opportunity to clarify our questions and help us to build tools for recognition of world regions and other geographical imaginations in a multilingual perspective. 4.2.3 Wikipedia entities as nodes of an ontolongy It appears crucial to introduce here a clear distinction between Wikipedia entities and textual units associated to the names and definiton of this units. A wikipedia entity like Q15 is an element of an ontology designed by its author for specific purposes. The specificity of the wikidata ontology is the fact that it is a multilinligual web where Q15 is a node of the web present in different linguistic layers. It means that we donâ€™t have a single name or a single definition of Q15, except if we adopt the neocolonial perspective to choose the english language as reference. Depending on the context (i.e. the language or sub-language), Q15 could be defined as : (fr) : A â€œcontinentâ€ named â€œAfriqueâ€\" (en) : A â€œcontinent on the Earthâ€™s northern and southern hemispheresâ€ named â€œAfricaâ€ or â€œAfrican continentâ€ (de) : A â€œKontinent auf der Nord- und SÃ¼dhalbkugel der Erdeâ€ named â€œAfrikaâ€ (tr) : A â€œDÃ¼nyaâ€™nÄ±n kuzey ve gÃ¼ney yarÄ±kÃ¼relerindeki bir kÄ±taâ€ named â€œAfrikaâ€ or â€œAfrika kÄ±tasÄ±â€ (ar) : The \" Ø«Ø§Ù†ÙŠ Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø³ÙƒØ§Ù†ØŒ ØªØ£ØªÙŠ ÙÙŠ Ø§Ù„Ù…Ø±ØªØ¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø¢Ø³ÙŠØ§\" 1 named â€œØ¥ÙØ±ÙŠÙ‚ÙŠØ§â€ or â€œØ§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ©â€ In other words the existence of the same code of wikipedia entities does not offer any guarantee of concordance between the geographical objects found in news published in different languages or different countries. But - and it is the important point - it help us to point similarities and differences between set of geographical entities that are more or less comparable in each language. 4.2.4 A tool for cross-linguistical experiments Having in mind the limits of the equivalence of entities across languages, it can nevertheless be an interesting experience to select a set of wikipedia entities (Q15, Q258, Q4412 â€¦) and to examine their relative frequency in our different media from different countries with different languages. A typical hypothesis could be something like : Is Q15 more mentionned than Q46 in Tunisian newspapers ? which is not equivalent to the question Is Africa more mentionned than Europe in Tunisian newspapers but rather equivalent to the two joint questions Is the textual unit â€œAfriqueâ€ more mentionned than the textual unit â€œEuropeâ€ in Tunisian newspapers published in french language. Is the textual unit â€œØ¥ÙØ±ÙŠÙ‚ÙŠØ§â€ more mentionned than the textual unit â€œØ£ÙˆØ±ÙˆØ¨Ø§â€ in Tunisian newspapers published in arabic language. 4.3 The package WikidataR The package WikidataR is an interface for the use of the Wikidata API in R language. Equivalent tools are available in Python and other languages for those non familiar with R. And it is of course possible to use directly the API. The first step is to install the most recent version of the R package WikidataR which install also related packages of interest. #install.packages(&quot;WikidataR&quot;) library(WikidataR) 4.3.1 Basic operations (based on Etienne Toureille previous experiments) 4.3.1.1 identification of entities of interest The function find_item will help to find all wikipedia entities (=items) associated to a textual unit (word or group of word) in given language. Letâ€™s start with the research of entities associated to â€œAfriqueâ€ in french language : mytext &lt;- &quot;Afrique&quot; items &lt;- find_item(search_term = mytext, language = &quot;fr&quot;, limit=30) class(items) [1] &quot;find_item&quot; length(items) [1] 30 The resulting object is an object from type find_item which is in practice a list describing the entities that has been recognized associated to the textual unit that we have chosen. In the french cas, we have found 50 entities that match with our textual unit. Letâ€™s have a look at the first one : items[[1]] $id [1] &quot;Q15&quot; $title [1] &quot;Q15&quot; $pageid [1] 111 $repository [1] &quot;wikidata&quot; $url [1] &quot;//www.wikidata.org/wiki/Q15&quot; $concepturi [1] &quot;http://www.wikidata.org/entity/Q15&quot; $label [1] &quot;Africa&quot; $description [1] &quot;continent on the Earth&#39;s northern and southern hemispheres&quot; $match $match$type [1] &quot;label&quot; $match$language [1] &quot;fr&quot; $match$text [1] &quot;Afrique&quot; $aliases $aliases[[1]] [1] &quot;Afrique&quot; As we can see we can easily identify the code the label and description in english but also the text responsible from the matching answer in french. We can therefore create a function item_info that extract all elements of interest and put them in a table in order to have a complete view. item_info &lt;- function(my_item){ if (is.null(my_item$id) == F){item_id = my_item$id} else {item_id = NA} if (is.null(my_item$label) ==F){item_label = my_item$label} else {item_label = NA} if (is.null(my_item$desc) == F) {item_desc= my_item$desc} else {item_desc = NA} if (is.null(my_item$match$lang) ==F){item_lang = my_item$match$lang} else {item_lang = NA} if (is.null(my_item$match$text) ==F){item_text = my_item$match$text} else {item_text = NA} res&lt;-data.frame(item_id,item_label,item_desc,item_lang,item_text) return(res) } For example : item_info(items[[1]]) item_id item_label item_desc 1 Q15 Africa continent on the Earth&#39;s northern and southern hemispheres item_lang item_text 1 fr Afrique We build then a second function that extract all the wikipedia entities associated to a textual unit for a given language extract_entities &lt;- function(mytext= &quot;Afrique&quot;, mylang = &quot;fr&quot;, maxres = 20) { # Extract items items &lt;- find_item(search_term = mytext, language = mylang, limit = maxres) # Create empty dataset res&lt;-data.frame() res$item_id &lt;- as.character() res$item_label &lt;- as.character() res$item_desc &lt;- as.character() res$item_lang &lt;- as.character() res$item_text &lt;- as.character() # Fill dataset k&lt;-length(items) for (i in 1:k) { res &lt;- rbind(res,item_info(items[[i]])) } # Return dataset return(res) } For example : tab &lt;- extract_entities(&quot;Afrique&quot;,&quot;fr&quot;,20) kable(tab) item_id item_label item_desc item_lang item_text Q15 Africa continent on the Earthâ€™s northern and southern hemispheres fr Afrique Q181238 Africa Roman province on the northern African coast covering parts of present-day Tunisia, Algeria, and Libya fr Afrique Q203548 African Plate continental plate underlying Africa fr Afrique Q258 South Africa sovereign state in Southern Africa fr Afrique du Sud Q4412 West Africa region of Africa fr Afrique de lâ€™Ouest Q132959 Sub-Saharan Africa area of the continent of Africa that lies south of the Sahara Desert fr Afrique subsaharienne Q27394 Southern Africa southernmost region of the African continent fr Afrique australe Q27407 East Africa easterly region of the African continent fr Afrique de lâ€™Est Q27381 North Africa northernmost region of the African continent fr Afrique du Nord Q2826196 Afrique Wikimedia disambiguation page fr Afrique Q23639892 Africa artwork by EugÃ¨ne Delaplanche in Paris, France fr Afrique Q66022909 Afrique NA fr Afrique Q153963 German East Africa former German posesssion in the African Great Lakes region between 1884â€“1919 fr Afrique orientale allemande Q4690138 Afrique album by Count Basie fr Afrique Q65574303 Afrique NA fr Afrique Q56317928 Afrique NA fr Afrique Q210682 French West Africa French colonial federation (1895â€“1958) fr Afrique-Occidentale franÃ§aise Q27433 Central Africa core region of the African continent fr Afrique centrale Q106179043 Afrique NA en Afrique Q271894 French Equatorial Africa federation of French colonial possessions in Central Africa fr Afrique-Ã‰quatoriale franÃ§aise As we can see, many of the entities proposed in he list are not interesting and we will probably have to select one by one the entities of interest. But we have clearly to keep two different list of entities : the target entities : that we consider as potential world regions or candidate to te title of â€œgeographic imaginationâ€. the control entites : that we have to identify or eliminate if we want to identify correctly our target entities like the country of South Africa In the case of Africa, we could for example establish a more limited list entit &lt;- c(&quot;Q15&quot;, &quot;Q4412&quot;,&quot;Q132959&quot;, &quot;Q27394&quot;,&quot;Q27407&quot;,&quot;Q27381&quot;,&quot;Q27433&quot;,&quot;Q258&quot;) tab&lt;-tab %&gt;% filter(item_id %in% entit) kable(tab) item_id item_label item_desc item_lang item_text Q15 Africa continent on the Earthâ€™s northern and southern hemispheres fr Afrique Q258 South Africa sovereign state in Southern Africa fr Afrique du Sud Q4412 West Africa region of Africa fr Afrique de lâ€™Ouest Q132959 Sub-Saharan Africa area of the continent of Africa that lies south of the Sahara Desert fr Afrique subsaharienne Q27394 Southern Africa southernmost region of the African continent fr Afrique australe Q27407 East Africa easterly region of the African continent fr Afrique de lâ€™Est Q27381 North Africa northernmost region of the African continent fr Afrique du Nord Q27433 Central Africa core region of the African continent fr Afrique centrale But this list which was based on the french textual units associated to â€œAfriqueâ€ should certainly be completed by equivalent list established for other languages with different seeds (â€œAfricaâ€ in english, â€œAfrikaâ€ in german, â€¦) 4.3.2 Elaboration of a cross_linguistic dictionnary Admitting that we have established a list of wikipedia entities of interest, we can now turn to the creation of a dictionary for the identification of these entities in different languages. We will use for that purpose the powerful function get_properties item_prop &lt;- get_property(&quot;Q15&quot;)[[1]] The result is a very large object (list of list) which provide all the informations (or links toward these information) in all languages wher the object is available. The problem is therefore to understand the structure of this object and to extract exactly what we need. In our case, we want to extract for each language of interest. The information will be separated in two datasets : dictionary of definitions dictionary of labels and aliases We create two functions dedicated to each of the tasks extract_def &lt;- function(item = c(&quot;Q15&quot;, &quot;Q246&quot;), langs = c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) { # Create empty dataset res&lt;-data.frame() res$id &lt;- as.character() res$lang &lt;- as.character() res$label &lt;- as.character() res$desc &lt;- as.character() # Loop of items n &lt;- length(item) for (i in 1:n) { # Extract item properties item_prop &lt;- get_property(item[i])[[1]] # Loop of language p&lt;-length(langs) for (j in 1:p) { id &lt;- item[i] lang &lt;- langs[j] if(is.null(item_prop[[&quot;labels&quot;]][[lang]]$value)==F) {label &lt;- item_prop[[&quot;labels&quot;]][[lang]]$value} else { label &lt;- NA} if(is.null(item_prop[[&quot;descriptions&quot;]][[lang]]$value)==F) {desc &lt;- item_prop[[&quot;descriptions&quot;]][[lang]]$value} else { desc &lt;- NA} add &lt;-data.frame(id,lang,label,desc) res&lt;- rbind(res,add) } } # Export result return(res) } The function works proprerly as long as the entities are available in all languages. It should be adapted to prevent errors when an entity is not available in one language. entit &lt;- c(&quot;Q15&quot;, &quot;Q4412&quot;,&quot;Q132959&quot;, &quot;Q27394&quot;,&quot;Q27407&quot;,&quot;Q27381&quot;,&quot;Q27433&quot;,&quot;Q258&quot;) tab&lt;-extract_def(entit,c(&quot;fr&quot;,&quot;de&quot;,&quot;tr&quot;,&quot;en&quot;,&quot;ar&quot;)) kable(tab) id lang label desc Q15 fr Afrique continent Q15 de Afrika Kontinent auf der Nord- und SÃ¼dhalbkugel der Erde Q15 tr Afrika DÃ¼nyaâ€™nÄ±n kuzey ve gÃ¼ney yarÄ±kÃ¼relerindeki bir kÄ±ta Q15 en Africa continent on the Earthâ€™s northern and southern hemispheres Q15 ar Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ø«Ø§Ù†ÙŠ Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø³ÙƒØ§Ù†ØŒ ØªØ£ØªÙŠ ÙÙŠ Ø§Ù„Ù…Ø±ØªØ¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø¢Ø³ÙŠØ§ Q4412 fr Afrique de lâ€™Ouest rÃ©gion dâ€™Afrique Q4412 de Westafrika Kontinentalteil Q4412 tr BatÄ± Afrika Afrikaâ€™nÄ±n batÄ±sÄ±ndaki 16 Ã¼lkenin bulunduÄŸu alan Q4412 en West Africa region of Africa Q4412 ar ØºØ±Ø¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ© Ù„Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q132959 fr Afrique subsaharienne partie du continent africain au sud du Sahara Q132959 de Subsahara-Afrika sÃ¼dlich der Sahara gelegener Teil Afrikas Q132959 tr SahraaltÄ± Afrika NA Q132959 en Sub-Saharan Africa area of the continent of Africa that lies south of the Sahara Desert Q132959 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø¬Ù†ÙˆØ¨ Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© ÙŠÙ‚Ø¹ Ø¬Ù†ÙˆØ¨ Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø§Ù„ÙƒØ¨Ø±Ù‰ Q27394 fr Afrique australe rÃ©gion la plus mÃ©ridionale du continent africain Q27394 de SÃ¼dliches Afrika Region in Afrika Q27394 tr GÃ¼ney Afrika NA Q27394 en Southern Africa southernmost region of the African continent Q27394 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© Ù„Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q27407 fr Afrique de lâ€™Est rÃ©gion dâ€™Afrique Q27407 de Ostafrika Region in Afrika Q27407 tr DoÄŸu Afrika NA Q27407 en East Africa easterly region of the African continent Q27407 ar Ø´Ø±Ù‚ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ù„Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q27381 fr Afrique du Nord rÃ©gion en Afrique Q27381 de Nordafrika Region in Afrika Q27381 tr Kuzey Afrika Afrika kÄ±tasÄ±nÄ±n Fas, Cezayir, Tunus, Libya, MÄ±sÄ±r ve Sudanâ€™Ä± iÃ§eren kuzey bÃ¶lgesi Q27381 en North Africa northernmost region of the African continent Q27381 ar Ø´Ù…Ø§Ù„ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø³ÙƒØ§Ù† Ø§ÙØ±ÙŠÙ‚ÙŠØ§ ÙÙŠ Ø´Ù…Ø§Ù„Ù‡Ø§ Q27433 fr Afrique centrale RÃ©gion dâ€™Afrique Q27433 de Zentralafrika Region in Afrika Q27433 tr Orta Afrika Afrika kÄ±tasÄ±nÄ±n Burundi, Orta Afrika Cumhuriyeti, Ã‡ad, Kongo Demokratik Cumhuriyeti ve Ruandaâ€™yÄ± barÄ±ndÄ±ran orta kÄ±smÄ± Q27433 en Central Africa core region of the African continent Q27433 ar ÙˆØ³Ø· Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ù…Ù†Ø·Ù‚Ø© Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q258 fr Afrique du Sud pays dâ€™Afrique Q258 de SÃ¼dafrika Staat im sÃ¼dlichen Afrika Q258 tr GÃ¼ney Afrika Cumhuriyeti GÃ¼ney Afrikaâ€™da bulunan bir Ã¼lke Q258 en South Africa sovereign state in Southern Africa Q258 ar Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø¯ÙˆÙ„Ø© ÙÙŠ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© 4.3.3 Extraction of aliases Now we have to extract the aliases which are two texts corresponding to the same entity in a given,language. For example, the Q27394 which correspond to the southern part of Africa (a subregion, not a country) is associated in spanish language to one main label and three equivalenbt alisases item_prop &lt;- get_property(&quot;Q27394&quot;)[[1]] item_prop$labels$es$value [1] &quot;Ãfrica austral&quot; item_prop$aliases$es language value 1 es Ãfrica meridional 2 es Ãfrica del Sur 3 es sur de Ãfrica But in french language, no aliases are mentioned : item_prop$labels$fr$value [1] &quot;Afrique australe&quot; item_prop$aliases$fr NULL The fact that no aliases are mentioned in french language can be considered as non logical as compared to spanish language. And we could certainly imagine to add in french the translation of two spanish aliases: â€œAfrique mÃ©ridionaleâ€, â€œSud de lâ€™Afriqueâ€. But we can not add â€œAfrique du Sudâ€ because it is related in french to the state and not to the subregion. Despite the fact that they are not complete, the aliases are certainly a good solution when we want to obtain more efficient dictionaries. For example, if we want to obtain the state of southern Africa (Q258), we can complete the official label by 4 alias in french language and 3 aliases in spanish, taking into account the fact that the text is in upper orlowercase, withor without accent, â€¦ item_prop &lt;- get_property(&quot;Q258&quot;)[[1]] item_prop$labels$es$value [1] &quot;SudÃ¡frica&quot; item_prop$aliases$es language value 1 es RepÃºblica de SudÃ¡frica 2 es Sudafrica 3 es Republica de Sudafrica item_prop$labels$fr$value [1] &quot;Afrique du Sud&quot; item_prop$aliases$fr language value 1 fr RÃ©publique sud-africaine 2 fr RÃ©publique dâ€™Afrique du Sud 3 fr rÃ©publique sud-africaine 4 fr rÃ©publique dâ€™Afrique du Sud lang=&quot;fr&quot; is.null(item_prop[[&quot;aliases&quot;]][[lang]])!=F [1] FALSE ali &lt;- item_prop[[&quot;aliases&quot;]][[lang]]$value n&lt;-length(ali) for (i in 1:n) { print(ali[i])} [1] &quot;RÃ©publique sud-africaine&quot; [1] &quot;RÃ©publique dâ€™Afrique du Sud&quot; [1] &quot;rÃ©publique sud-africaine&quot; [1] &quot;rÃ©publique dâ€™Afrique du Sud&quot; We propose therefore a function called extract_alias which propose for each entity of interest a list of texts and aliases adapte to each language. We do not store the definition which has been otained previously with the function extract_def : extract_alias &lt;- function(items = c(&quot;Q15&quot;, &quot;Q258&quot;), langs = c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) { # Create empty dataset res&lt;-data.frame() res$id &lt;- as.character() res$lang &lt;- as.character() res$label &lt;- as.character() # Loop of items n &lt;- length(items) for (i in 1:n) { # Extract item properties item_prop &lt;- get_property(items[i])[[1]] # Loop of language p&lt;-length(langs) for (j in 1:p) { id &lt;- items[i] lang &lt;- langs[j] if(is.null(item_prop[[&quot;labels&quot;]][[lang]]$value)==F) {label &lt;- item_prop[[&quot;labels&quot;]][[lang]]$value} else { label &lt;- NA} if(is.null(item_prop[[&quot;descriptions&quot;]][[lang]]$value)==F) {desc &lt;- item_prop[[&quot;descriptions&quot;]][[lang]]$value}else { desc &lt;- NA} add &lt;-data.frame(id,lang,label) res&lt;- rbind(res,add) # Loop of aliases if (is.null(item_prop[[&quot;aliases&quot;]][[lang]])==F) { ali &lt;- item_prop[[&quot;aliases&quot;]][[lang]]$value n&lt;-length(ali) for (k in 1:n) { label &lt;- ali[k] add &lt;-data.frame(id,lang,label) res&lt;- rbind(res,add) } } } } # Export result return(res) } Letâ€™s try the function on the case of the continent of â€œAfricaâ€ (Q15), the subregion â€œSouth of Africaâ€ (Q27394) and the state of â€œSouthern Africaâ€ (Q258) in five languages : tab&lt;- extract_alias(items = c(&quot;Q15&quot;, &quot;Q27394&quot;, &quot;Q258&quot;), langs = c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) kable(tab) id lang label Q15 fr Afrique Q15 de Afrika Q15 en Africa Q15 en African continent Q15 en Ancient Libya Q15 tr Afrika Q15 tr Afrika kÄ±tasÄ± Q15 ar Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Q15 ar Ø§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q15 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Q15 ar Ø¥ÙØ±ÙŠÙ‚ÙŠØ© Q15 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ© Q27394 fr Afrique australe Q27394 de SÃ¼dliches Afrika Q27394 de SÃ¼dafrika Q27394 en Southern Africa Q27394 tr GÃ¼ney Afrika Q27394 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© Q27394 ar Ø¥ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© Q27394 ar Ø¬Ù†ÙˆØ¨ÙŠ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Q27394 ar Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠÙ‡ Q27394 ar Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ (Ù…Ù†Ø·Ù‚Ø©) Q258 fr Afrique du Sud Q258 fr RÃ©publique sud-africaine Q258 fr RÃ©publique dâ€™Afrique du Sud Q258 fr rÃ©publique sud-africaine Q258 fr rÃ©publique dâ€™Afrique du Sud Q258 de SÃ¼dafrika Q258 de Suedafrika Q258 de Republik SÃ¼dafrika Q258 en South Africa Q258 en Republic of South Africa Q258 en RSA Q258 en SA Q258 en za Q258 en ğŸ‡¿ğŸ‡¦ Q258 en zaf Q258 tr GÃ¼ney Afrika Cumhuriyeti Q258 ar Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ The function works ! 4.3.4 Conclusion It is now possible to develop a global research strategy for the analysis of world regions : 1. Define a set of target regions in one language : In our example, it was based on the use of the term â€œAfriqueâ€ in french language, but we can imagine a different list. 2. Identify the code of the wikidata entities associated to this target regions : We have generally a lot of entities of minor interest. 3. Identify the code of the other wikidata entities that should be added for control : As we have seen, some entities are likely to create confusion and ambiguity in the definition of target entities. This entity will be transformed in compound or eliminate from the text before to look for the target entities. 4. Extract the properties of the entities in the different languages of interest : this step can be an opportunity to return to step 1. For example, it it appears that some subdivisions of Africa are available in english or german language but not in french. 5. Compare the definitions of Wikipedia entities in different languages : it is important to check if the assumption of identity of the entities is correct or not. If not, some entities will be eliminated from the list. 6. Extract the dictionary of recognition of entities : which can be done in a multilanguage perspective. It is obviously possible to apply the same procedure to different objects like organizations, people, etcâ€¦ 4.4 Dictionary of world regions We realize a test of the method described above on a preliminary dictionary of world regions 4.4.1 Load the list of world regions We start from a provisional list of 65 world regions established by C. Grasland : ent&lt;-read.table(&quot;dict/wikireg_V1.csv&quot;, sep=&quot;;&quot;, header=T, encoding = &quot;UTF-8&quot;) 4.4.2 Extract dÃ©finitions We extract the definitions of the regions in the different languages. ## NOT RUN ### worldreg_def &lt;- extract_def(ent$wikidata,c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) write.table(x = worldreg_def, file = &quot;dict/worldreg001_def.csv&quot;, fileEncoding = &quot;UTF-8&quot;, sep = &quot;;&quot;) saveRDS(object = worldreg_def, file = &quot;dict/worldreg001_def.RDS&quot;) 4.4.3 Extract aliases and create dictionary ## NOT RUN ### worldreg_dict &lt;- extract_alias(ent$wikidata,c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) write.table(x = worldreg_dict, file = &quot;dict/worldreg001_dict.csv&quot;, fileEncoding = &quot;UTF-8&quot;, sep = &quot;;&quot;) saveRDS(object = worldreg_dict, file = &quot;dict/worldreg001_dict.RDS&quot;) 4.4.4 Extract dictionary of control units We need to add a supplementary dictionary of units that are introduced in order to avoid confusion. For the moment it is limited to the state of southern Africa, but many other units shouyld be added like â€œEurope 1â€ (a french radio), â€œCouncil of Europeâ€ (an organization), etcâ€¦ ## NOT RUN ### ent_ctrl &lt;- c(&quot;Q258&quot;, # Republic of southern Africa &quot;Q8908&quot;, # Council of Europe &quot;Q314407&quot;) # French Radio Europe 1 worldreg_ctrl &lt;- extract_alias(ent_ctrl,c(&quot;fr&quot;,&quot;de&quot;,&quot;en&quot;,&quot;tr&quot;,&quot;ar&quot;)) write.table(x = worldreg_ctrl, file = &quot;dict/worldreg001_ctrl.csv&quot;, fileEncoding = &quot;UTF-8&quot;, sep = &quot;;&quot;) saveRDS(object = worldreg_ctrl, file = &quot;dict/worldreg001_ctrl.RDS&quot;) 4.5 Detection of world regions We describe now how to apply the dictionary to our different media : 4.5.1 Example of â€œLe Figaroâ€ (fr_FRA_figaro) Before to elaborate a generic function, we describe step by step the procedure : 4.5.1.1 Load corpus ### Load corpus qd &lt;- readRDS(&quot;quanteda/fr_FRA_figaro.RDS&quot;) summary(qd,3) Corpus consisting of 128807 documents, showing 3 documents: Text Types Tokens Sentences source date regs nbregs 1128863317 12 12 1 fr_FRA_figaro 2019-01-01 0 1128915698 11 11 1 fr_FRA_figaro 2019-01-01 0 1128915693 8 8 1 fr_FRA_figaro 2019-01-01 0 4.5.1.2 Tokenize # Tokenize text toks&lt;-tokens(qd) # Split french apostroph (optional ) toks&lt;- tokens_split(toks, &quot;&#39;&quot;) 4.5.1.3 Load dictionaries and create compounds ## Control dictionary ctrl&lt;-readRDS(&quot;dict/worldreg001_ctrl.RDS&quot;) ctrl&lt;-ctrl[ctrl$lang==&quot;fr&quot; &amp; is.na(ctrl$label)==F,] ctrl&lt;-ctrl[ntoken(ctrl$label)&gt;1,] toks&lt;-tokens_compound(toks,pattern=phrase(ctrl$label)) ## Target dictionary dict&lt;-readRDS(&quot;dict/worldreg001_dict.RDS&quot;) dict&lt;-dict[dict$lang==&quot;fr&quot; &amp; is.na(dict$label)==F,] target&lt;-dict[ntoken(dict$label)&gt;1,] toks&lt;-tokens_compound(toks,pattern=phrase(target$label)) 4.5.1.4 Store world regions in a field # create quanteda dictionary keys &lt;-gsub(&quot; &quot;,&quot;_&quot;,dict$label) qd_dict&lt;-as.list(keys) names(qd_dict)&lt;-dict$id qd_dict&lt;-dictionary(qd_dict, tolower=F) # Identify geo tags (states or reg or org ...) toks_tags &lt;- tokens_lookup(toks, qd_dict) toks_tags &lt;- lapply(toks_tags, unique) toks_tags&lt;-as.tokens(toks_tags) list_tags&lt;-function(x){res&lt;-paste(x, collapse=&#39; &#39;)} qd$regs&lt;-as.character(lapply(toks_tags,FUN=list_tags)) qd$nbregs&lt;-ntoken(toks_tags) 4.5.1.5 Check results In order to check the results we print the sample of news where two world regions or more was present. table(qd$nbregs) 0 1 2 3 126466 2281 58 2 check&lt;-qd[qd$nbregs&gt;1] kable(check) x 1202497847 Â«Lâ€™Ã©migration permanente vers lâ€™Europe prive lâ€™Afrique de ses jeunes les plus brillantsÂ» 1208105284 Lâ€™AmÃ©rique et lâ€™Europe frappent la Syrie au portefeuille 1233402821 Sommet Trump-Kim Ã  HanoÃ¯: quels enjeux pour les alliÃ©s des Ã‰tats-Unis en Europe et en Asie? 1257748531 Tarkett rÃ©organise sa production en AmÃ©rique du Nord 1273039226 Des migrants venus dâ€™Asie traversent la MÃ©diterranÃ©e 1273320449 Asie, Afrique, Europe: la nouvelle stratÃ©gie de lâ€™Ã‰tat islamique 1385337628 Sept pays dâ€™AmÃ©rique du Sud en sommet pour dÃ©fendre lâ€™Amazonie 1397049940 Lâ€™AmÃ©rique du Nord a perdu trois milliards dâ€™oiseaux depuis 1970 1419679356 Stephen Smith: Â«Lâ€™Afrique est une salle dâ€™attente de 1,3 milliard dâ€™habitants aux portes de lâ€™EuropeÂ» 1414541598 Sahel: les pays dâ€™Afrique de lâ€™Ouest tentent de sonner la mobilisation gÃ©nÃ©rale 1456138882 Au Sahel, Paris porte le fardeau de lâ€™Europe 1458688213 Proche-Orient: lâ€™Europe peut-elle encore faire entendre sa voix? 1472261066 Morning meeting AOF France / Europe - DÃ©but de sÃ©ance dans le vert en perspective 1487858483 Afrique centrale, Amazonieâ€¦ Lâ€™Australie nâ€™est pas la seule rÃ©gion du globe touchÃ©e par des incendies dÃ©vastateurs 1532972109 Ursula von der Leyen met lâ€™Afrique au cÅ“ur des prioritÃ©s de lâ€™Europe 1538695782 Afrique, Asie, Russie: ces pays qui prÃ©tendent Ã©chapper au coronavirus 1556897465 AprÃ¨s la Chine et lâ€™Europe, lâ€™Afrique opte progressivement pour le confinement 1561127564 Ã‰ric Zemmour: Â«Ce virus qui montre la force de lâ€™Asie et souligne le dÃ©classement de lâ€™EuropeÂ» 1566082859 Â«On risque en Afrique dâ€™avoir une mortalitÃ© beaucoup plus Ã©levÃ©e quâ€™en EuropeÂ» 1614628752 La filiale franÃ§aise de Hertz devrait Ãªtre Ã©pargnÃ©e par la faillite en AmÃ©rique du Nord 1615672526 Coronavirus: plus de 40.000 morts en AmÃ©rique latine et aux CaraÃ¯bes 1622310115 Coronavirus: plus dâ€™un million de cas en AmÃ©rique latine et aux CaraÃ¯bes 1640112442 Une Ã©clipse solaire exceptionnelle va embraser une partie du ciel dâ€™Afrique et dâ€™Asie 1643134082 Coronavirus: plus de 100.000 morts en AmÃ©rique latine et dans les CaraÃ¯bes 1644080764 Un vent de sable du Sahara fait suffoquer les CaraÃ¯bes 1655624031 Covid-19: plus de 3 millions de cas en AmÃ©rique latine et aux CaraÃ¯bes 1669473785 Coronavirus: plus de 4 millions de cas en AmÃ©rique latine et dans les CaraÃ¯bes 1674749497 Coronavirus: plus de 200.000 morts en AmÃ©rique latine et aux CaraÃ¯bes 1682541327 MÃ©diterranÃ©e: lâ€™Europe peut-elle Ã©viter un affrontement entre la GrÃ¨ce et la Turquie? 1699100479 Tensions en MÃ©diterranÃ©e: lâ€™Europe en ordre dispersÃ© face Ã  Ankara 1702445480 General Motors et Honda font alliance en AmÃ©rique du Nord 1732243129 Lâ€™AmÃ©rique mobilise un front anti-PÃ©kin en Asie 1770035472 Quinze pays dâ€™Asie et du Pacifique signent un accord de libre-Ã©change promu par la Chine 1791252333 PrÃ©sidentielle amÃ©ricaine: Europe, Asie, Otan. Le monde retient son souffle 1810276348 Lâ€™Europe, spectatrice des mutations au Moyen-Orient 1822430945 Telefonica vend ses tours de tÃ©lÃ©communication en Europe et AmÃ©rique latine pour 7,7 milliards dâ€™euros 1828419506 Â«Lâ€™Europe fait-elle preuve dâ€™angÃ©lisme au Proche-Orient?Â» 1855542096 PolynÃ©sie: un marin chute dâ€™un cargo et survit 16 heures dans lâ€™ocÃ©an Pacifique 1857129674 Un nouveau nuage de sable du Sahara attendu sur lâ€™Europe ce week-end 1864494899 Bel : annÃ©e 2020 dans le vert grÃ¢ce Ã  ses marques phares, lâ€™AmÃ©rique et lâ€™Asie 1889567911 PÃ©nuries de puces: Stellantis suspend la production dans 5 usines en AmÃ©rique du Nord 1891482390 Facebook et Google investissent dans des cÃ¢bles entre lâ€™AmÃ©rique du Nord et lâ€™Asie-Pacifique 1891681233 Canal de Suez bloquÃ© : quelles consÃ©quences pour les opÃ©rations de lâ€™armÃ©e franÃ§aise au Moyen-Orient et en Asie ? 1915498862 De lâ€™Himalaya Ã  lâ€™Arctique, la fonte des glaciers sâ€™accÃ©lÃ¨re, selon une Ã©tude 1930291586 Amazon prÃ©voit dâ€™embaucher 75.000 personnes en AmÃ©rique du Nord 1938506703 Covid-19 : plus dâ€™un million de dÃ©cÃ¨s en AmÃ©rique latine et aux CaraÃ¯bes 1947742058 Lâ€™Europe craint une rÃ©action en chaÃ®ne au Maghreb 1952401998 Â«Vu dâ€™AilleursÂ» NÂ°51 - Lâ€™Europe a-t-elle perdu de vue le Maghreb ? 1957509487 Deux cas de Covid-19 Ã  bord dâ€™une des premiÃ¨res croisiÃ¨res en AmÃ©rique du Nord depuis la pandÃ©mie 1959699479 Le pape pleure les migrants morts en MÃ©diterranÃ©e, le Â«plus grand cimetiÃ¨re dâ€™EuropeÂ» 1971360149 Nike dopÃ© Ã  Wall Street par les solides ventes en AmÃ©rique du Nord et en ligne 1975903379 Climat : le Â«dÃ´me de chaleurÂ» a dÃ©jÃ  fait des dizaines de morts en AmÃ©rique du Nord 1983023021 Juin 2021 a Ã©tÃ© le mois de juin le plus chaud jamais mesurÃ© en AmÃ©rique du Nord 1984670180 CroisiÃ¨res: des CaraÃ¯bes Ã  lâ€™ocÃ©an Indien, notre sÃ©lection des nouveautÃ©s automne-hiver 2005608563 En AmÃ©rique du Sud, lâ€™Amazonie et le Pantanal Ã  nouveau dÃ©vastÃ©s par les incendies 2021021397 Une cinquantaine de migrants morts au large de lâ€™Afrique sur la route de lâ€™Europe 2021112587 Bab al-Mandab, Â«porte des lamentationsÂ» entre Afrique et Moyen-Orient 2023259245 Air CaraÃ¯bes et Corsair plongent aux Antilles 2055701082 Bonduelle rÃ©duit la voilure en AmÃ©rique du Nord 2056637411 Lâ€™AmÃ©rique veut contenir lâ€™expansion chinoise dans le Pacifique With only one exception (â€œAir CaraÃ¯besâ€ is not a region), we have obtained genuine cases of linkages between world regions. This cases ae not very frequent but interesting : We have many examples of association of regions and states (â€œAfrique, Asie, Russieâ€) which clearly suggest that very large states are considered as equivalent to world regions (â€œ\"Afrique centrale, Amazonie â€¦ Lâ€™Australie nâ€™est pas la seule rÃ©gion du globe touchÃ©e par les incendiesâ€) We notice some frequent associations like the dyad â€œAmÃ©rique Latine / CaraÃ¯besâ€ which is observed 7 times. We can produce another case for the difficult case of â€œEurope (Q46)â€ in order to see if we have not forgotten to control some compounds : check&lt;-qd[qd$regs==&quot;Q46&quot;] ndoc(check) [1] 1040 kable(check[1:10]) x 1129625564 ContrÃ´le des chÃ´meurs : comment Ã§a marche ailleurs en Europe ? 1129922375 DÃ©laissÃ©e par les Ã‰tats-Unis, lâ€™Europe entame lâ€™annÃ©e dans le doute et la dÃ©sunion 1136671974 Lâ€™Europe sera-t-elle paralysÃ©e en 2019 ? 1138332871 Migrants : Rome tente Ã  nouveau de mobiliser lâ€™Europe 1143716441 AÃ©ronautique : lâ€™Europe doit mieux se mobiliser 1144282693 Ford ne quittera pas lâ€™Europe, mais restructure ses activitÃ©s 1146967281 Quatre candidats pour prendre la tÃªte du Conseil de lâ€™Europe 1147907423 Le mur entre les deux Europe, un mirage pour lâ€™avenir 1160583456 La Chine est stratÃ©gique pour GM, Ford et FCA, pas lâ€™Europe 1160890631 Dans Far From Home, Spider-Man part Ã  la dÃ©couverte de lâ€™Europe et de lâ€™amour The manual analysis of the 387 occurences of â€œEuropeâ€ reveals a very good performance. Only 10 news (i.e. less than 3% ) are related to entities different from the world region Europe. The mistakes are related to : other subregions of Europe with complements in upper case (e.g. â€œEurope Centraleâ€) entities to be added to the control list like political parties (e.g. â€œEurope Ecologieâ€), companies (e.g. â€œGoogle Europeâ€), media (â€œRadio Free Europeâ€), films (â€œPrincesse Europeâ€), â€¦ But as a whole the number of mistakes is very reduced and could be debated in certain cases : â€œGoogle Europeâ€ can be considered for example as a reference to the world region Europe. The third check made on America reveals that the procedure of tagging is correct from textual point of view (20 occurences of â€œAmÃ©riqueâ€ are observed) but not from the semantic point of view. In all cases but one, the text â€œAmÃ©riqueâ€ is in fact associated to USA (Q30) and not to the continent of America (Q828). It means that in this particular case, the ontology of Wikipedia is associated to a systematic error (95%). check&lt;-qd[qd$regs==&quot;Q828&quot;] ndoc(check) [1] 148 kable(check) x 1165673549 Ã€ Manbij, au nord de la Syrie, Daech se rappelle Ã  lâ€™AmÃ©rique 1173243289 Le pape FranÃ§ois Ã  la rencontre de la jeunesse dâ€™AmÃ©rique 1176422114 La jument BÃ©lina Josselyn remporte le 98e Grand Prix dâ€™AmÃ©rique 1194644543 Aaron Swartz, gÃ©nie dâ€™Internet et martyr de lâ€™AmÃ©rique 1203899699 Poutine exhibe ses armes pour menacer lâ€™AmÃ©rique 1208152227 Carlos Tavares envoie Peugeot Ã  la reconquÃªte de lâ€™AmÃ©rique 1216093591 Lâ€™AmÃ©rique derriÃ¨re moi dâ€™Erwan Desplanques: le pÃ¨re de famille qui rÃªvait dâ€™Ãªtre un GI 1235792670 A lâ€™ONU, Angelina Jolie plaide pour une AmÃ©rique impliquÃ©e dans le monde 1244912375 Des pots-de-vin pour intÃ©grer les universitÃ©s dâ€™Ã©lite: le scandale qui choque lâ€™AmÃ©rique 1256912694 Pour lâ€™Iran, les inondations rÃ©vÃ¨lent la Â«mÃ©chancetÃ©Â» de lâ€™AmÃ©rique 1256912547 YÃ©men: lâ€™AmÃ©rique Â«a pris la dÃ©cision de cette guerreÂ», selon les Houthis 1268638047 JJ Cale, lâ€™AmÃ©rique Ã©ternelle 1319124545 EN DIRECT - D-Day : â€œLâ€™AmÃ©rique nâ€™est jamais aussi grande que lorsquâ€™elle se bat pour la libertÃ© des autresâ€, dit Macron 1319610552 Amir Jahanshahi:Â«Lâ€™AmÃ©rique peut provoquer une catastrophe mondiale!Â» 1321003442 Lâ€™AmÃ©rique Â«mentÂ» quand elle dit Â«chercher Ã  nÃ©gocierÂ» avec lâ€™Iran (Rohani) 1322627518 Lâ€™AmÃ©rique se divise sur lâ€™immigration clandestine et ses tragÃ©dies 1329952114 Trump va exalter une AmÃ©rique rassemblÃ©e dans son discours controversÃ© du 4 juillet 1332072481 Trump fÃ©licite les AmÃ©ricaines, Â«lâ€™AmÃ©rique est fiÃ¨re de vous toutesÂ» 1362511836 Lâ€™apparent suicide de Jeffrey Epstein Ã©lectrise lâ€™AmÃ©rique 1365718240 Gallmeister, cap vers lâ€™AmÃ©rique des grands espaces 1392884385 Festival de Deauville: le triomphe de Bull, portrait dâ€™une AmÃ©rique Ã  lâ€™abandon 1397339563 Aux racines de lâ€™AmÃ©rique: une Ã©blouissante plongÃ©e dans le Grand Ouest 1402226679 Ce que lâ€™on sÃ¨me de Regina Porter: un demi-siÃ¨cle de lâ€™histoire de lâ€™AmÃ©rique 1449498120 Sectarisme sur les campus: un vent dâ€™intolÃ©rance venu dâ€™AmÃ©rique 1454266472 Bernard Arnault: Â«Tiffany, câ€™est une icÃ´ne de lâ€™AmÃ©rique qui devient un peu franÃ§aiseÂ» 1461095404 Les gÃ©ants du luxe visÃ©s par lâ€™AmÃ©rique rÃ©sistent en Bourse 1466120302 PÃ©kin veut rompre sa dÃ©pendance informatique Ã  lâ€™AmÃ©rique 1467723925 Lâ€™AmÃ©rique jugÃ©e solide, la Fed marque une pause 1467944990 MÃ©moires dâ€™AmÃ©rique, de John Edgar Wideman: Ãªtre un Noir en AmÃ©rique 1485924432 Ã€ TÃ©hÃ©ran, la rue scande Â«Mort Ã  lâ€™AmÃ©riqueÂ» et crie vengeance 1486151302 Ã€ Bagdad, des milliers dâ€™Irakiens scandent Â«Mort Ã  lâ€™AmÃ©riqueÂ» aux obsÃ¨ques de Soleimani 1487212483 Ã€ Beyrouth, la foule du Hezbollah a Ã©coutÃ© son chef dÃ©fier lâ€™AmÃ©rique 1490149479 Ã€ Bagdad, les milices chiites fourbissent leurs armes contre lâ€™AmÃ©rique 1500007296 Lâ€™AmÃ©rique de Trump voit dans Â«lâ€™impeachmentÂ» une manÅ“uvre politicienne 1550458307 Â«Faim de sÃ©riesÂ» NÂ°2 : Â«Le complot contre lâ€™AmÃ©riqueÂ», un portrait en Trump lâ€™oeil 1552765371 Le complot contre lâ€™AmÃ©rique: le gÃ©nie de David Simon a encore frappÃ© 1553246166 Lâ€™AmÃ©rique prÃªte Ã  distribuer directement des chÃ¨ques de 1000 dollars aux mÃ©nages 1561036577 Coronavirus: lâ€™AmÃ©rique se mobilise dans le dÃ©sordre 1566845339 Coronavirus: lâ€™AmÃ©rique relance la guerre des masques 1577996398 Obama annonce son soutien Ã  Biden, capable de guider lâ€™AmÃ©rique Ã  travers les Â«heures les plus sombresÂ» 1586054981 Au lieu de menacer, Trump ferait mieux de Â«sauverÂ» lâ€™AmÃ©rique du coronavirus, dit lâ€™Iran 1608743163 Clinton Road, sombre excursion sur la route la plus hantÃ©e dâ€™AmÃ©rique 1611093062 Ford Explorer PHEV, un parfum dâ€™AmÃ©rique 1623085311 Joe Biden relance sa campagne dans une AmÃ©rique embrasÃ©e par la mort de George Floyd 1623665862 George W. Bush appelle lâ€™AmÃ©rique Ã  examiner ses Â«Ã©checs tragiquesÂ» 1624690456 Lâ€™AmÃ©rique hantÃ©e par une tenace blessure raciale 1625105201 Jim Mattis, lâ€™ex-ministre de la DÃ©fense, accuse Donald Trump de Â«diviserÂ» lâ€™AmÃ©rique 1625353659 Â«PÃ©riscopeÂ» NÂ°13: Pourquoi lâ€™AmÃ©rique brÃ»le-t-elle? 1628999847 La CorÃ©e du Sud cherche Ã  sâ€™affirmerentre lâ€™AmÃ©rique et la Chine 1630402427 Lâ€™hommage de lâ€™AmÃ©rique Ã  George Floyd, Ã©rigÃ© en martyr du racisme 1633158482 Ã‰ric Zemmour: Â«Cette guerre raciale importÃ©e dâ€™AmÃ©rique par nos Ã©lites et nos banlieuesÂ» 1642271458 Statues dÃ©boulonnÃ©es: des figures historiques de lâ€™AmÃ©rique vacillent de leur piÃ©destal 1649051525 Avec Wash Us In the Blood, Kanye West compose une priÃ¨re pour lâ€™AmÃ©rique 1652981555 Lâ€™AmÃ©rique cÃ©lÃ¨bre un 4 juillet au goÃ»t amer 1653649981 Nicolas Baverez: Â«Les Ã‰tats dÃ©sunis dâ€™AmÃ©riqueÂ» 1681918324 Joe Biden et Kamala Harris promettent ensemble de Â«reconstruireÂ» lâ€™AmÃ©rique 1688032449 Officiellement investie, Kamala Harris exhorte lâ€™AmÃ©rique Ã  tourner la page Trump 1688997764 Joe Biden accepte lâ€™investiture dÃ©mocrate et appelle lâ€™AmÃ©rique Ã  sortir de lâ€™obscuritÃ© 1688997737 Ã‰tats-Unis: bÃ¨gue comme Joe Biden, un garÃ§on de 13 ans Ã©meut lâ€™AmÃ©rique 1689416544 Joe Biden veut sortir lâ€™AmÃ©rique des Â«tÃ©nÃ¨bresÂ» 1692621898 Lâ€™AmÃ©rique sous le choc dâ€™une autre bavure policiÃ¨re dans le Wisconsin 1695385532 Leonard Weinglass, un avocat au service des rÃ©voltÃ©s de lâ€™AmÃ©rique 1701737667 Â«OptimisteÂ», Biden se prÃ©sente en rassembleur de lâ€™AmÃ©rique face au racisme 1702048361 Jean-Pierre Laffont, un Å“il sur lâ€™AmÃ©rique 1703076035 Rod Dreher: Â«Lâ€™AmÃ©rique a Ã©tÃ© humiliÃ©e aux yeux du mondeÂ» 1704788386 TaÃ¯wan, cette ligne de faille entre la Chine et lâ€™AmÃ©rique 1705345304 Lâ€™histoire de Â« lâ€™homme le plus dÃ©testÃ© dâ€™AmÃ©rique Â» et de lâ€™album le plus cher de tous les temps bientÃ´t sur Netflix? 1706477036 Nostalgie dâ€™un autre monde, dâ€™Ottessa Mosfegh: pauvre AmÃ©rique 1711967705 Deux sortes dâ€™hommes: les aventures inÃ©dites de Johnny en AmÃ©rique 1721258584 Madeleine Albright: Â«Je souhaite le retour dâ€™une AmÃ©rique gÃ©nÃ©reuse et charitableÂ» 1721291027 La folie secrÃ¨te de Cindy Shermanou lâ€™AmÃ©rique en son miroir 1721934240 Â«New York CannibalsÂ» de Boucq et Charyn : course-poursuite dans une AmÃ©rique folle Ã  lier 1722405136 Rumeurs dâ€™AmÃ©rique dâ€™Alain Mabanckou, lâ€™Ã©crivain-monde 1732487356 Taylor Swift soutient Joe Biden pour Â«commencerÂ» Ã  guÃ©rir lâ€™AmÃ©rique 1735968983 A la traÃ®ne derriÃ¨re Biden, Trump sillonne de nouveau lâ€™AmÃ©rique 1739715186 PÃ©riscope NÂ° 23 : La guerre civile couve-t-elle en AmÃ©rique? 1739855573 Les Sept de Chicago : Aaron Sorkin dresse le procÃ¨s de lâ€™AmÃ©rique sur Netflix 1740697190 Bruce Springsteen: Â«Trump va perdre, et lâ€™AmÃ©rique sera Ã  nouveau unieÂ» 1744923849 Trump vs Biden: leurs recettes et dÃ©penses pour relancer lâ€™AmÃ©rique 1745687757 Obama entre en campagne pour Biden, Trump sillonne lâ€™AmÃ©rique 1747898046 Le prix de la fondation Martine-Aublet rÃ©compense Gilles Havard et son livre sur lâ€™AmÃ©rique franÃ§aise 1749481184 PrÃ©sidentielle: une AmÃ©rique polarisÃ©e Ã  lâ€™extrÃªme face Ã  un choix existentiel 1749952633 Lâ€™AmÃ©rique outrÃ©e, Bikers For Trumpâ€¦ Notre sÃ©lection des meilleurs documentaires sur Donald Trump 1751973473 La Pennsylvanie, champ de bataille et baromÃ¨tre dâ€™une AmÃ©rique divisÃ©e 1753086819 Biden vote dans son fief de Wilmington, Trump sillonne lâ€™AmÃ©rique 1757652309 PrÃ©sidentielle: lâ€™AmÃ©rique redoute un vote Ã©maillÃ© de violences 1765832682 Lâ€™AmÃ©rique est Â«de retourÂ» assure Joe Biden, qui a Â«hÃ¢teÂ» de discuter avec Donald Trump 1765898472 Hamilton, un des Â«pÃ¨resÂ» de lâ€™AmÃ©rique, esclavagiste? Oui, assure une Ã©tude 1779295690 Joe Biden annonce le retour dâ€™une AmÃ©rique Â«prÃªte Ã  guider le mondeÂ» 1785793640 RÃ©becca Dautremer, illustratrice de la face obscure de lâ€™AmÃ©rique 1787050931 Lâ€™AmÃ©rique durcit lâ€™accÃ¨s des sociÃ©tÃ©s chinoisesÃ  Wall Street 1787942583 Lâ€™AmÃ©rique durcit lâ€™accÃ¨s des sociÃ©tÃ©s chinoises Ã  Wall Street 1788051523 La main tendue des EuropÃ©ens Ã  lâ€™AmÃ©rique de Joe Biden 1793586550 Mon oncle Frank: un autre genre dâ€™AmÃ©rique sur Amazon Prime VidÃ©o 1796600424 La folle offensive lÃ©gale de Donald Trump qui a Ã©branlÃ© lâ€™AmÃ©rique pendant 40 jours 1796730666 Covid-19: au seuil des 300.000 morts, lâ€™AmÃ©rique hÃ¢te la distribution du vaccin 1814140106 Lâ€™Iran rumine toujours sa vengeance contre lâ€™AmÃ©rique 1814743881 Irak: les milices fourbissent leurs armes contre lâ€™AmÃ©rique 1817674214 Lâ€™Ã©tendard dÃ©mocratique, portÃ© par lâ€™AmÃ©rique, est flÃ©tri 1818684957 Â«Faim de sÃ©rieÂ» NÂ°35: The Good Lord Bird, Ethan Hawke Ã  lâ€™assaut des tabous de lâ€™AmÃ©rique 1820759205 YÃ©men: lâ€™AmÃ©rique complique la donne en Ã©cartant les houthistes 1822984973 Joe Biden au chevet dâ€™une AmÃ©rique en rÃ©cession prÃªte Ã  rebondir 1824745835 Voyage au cÅ“ur dâ€™une AmÃ©rique dÃ©chirÃ©e 1828584599 Joe Biden prend les commandes de lâ€™AmÃ©rique dans la tempÃªte 1828978428 Investiture de Joe Biden: Ã  la recherche des icÃ´nes de lâ€™AmÃ©rique en France 1829372727 Â«La bataille pour lâ€™Ã¢me de lâ€™AmÃ©rique, un combat permanentÂ» 1829400545 Joe Biden jure de rassembler lâ€™AmÃ©rique 1832424741 Chine: Â«Lâ€™AmÃ©rique me rappelle lâ€™amirautÃ© russe en 1905, avant le dÃ©sastre de TsushimaÂ» 1843776839 Avec Joe Biden, lâ€™AmÃ©rique veut regagner sa place dans le monde 1852077626 QAnon, cette galaxie venue dâ€™AmÃ©rique qui touche la France 1853388408 Joe Biden veut sevrer lâ€™AmÃ©rique de pÃ©trole 1858468930 Ces perles de verre vÃ©nitiennes retrouvÃ©es en Alaska se trouvaient en AmÃ©rique avant Christophe Colomb 1860837581 Obama et Springsteen dialoguent sur lâ€™Ã©tat de lâ€™AmÃ©rique dans un podcast en huit Ã©pisodes 1864452035 Lâ€™AmÃ©rique frappe en Syrie et envoie un signal Ã  lâ€™Iran 1865222558 Â«Ne pariez jamais contre lâ€™AmÃ©riqueÂ», conseille le milliardaire Warren Buffett 1865970122 Avec Linda Thomas-Greenfield, le retour de lâ€™AmÃ©rique Ã  lâ€™ONU 1868908017 Pourquoi lâ€™AmÃ©rique de Matthew Baker, ce futur glaÃ§ant qui nous attend 1871044686 La Chine de Xi Jinping sâ€™endurcit face Ã  lâ€™AmÃ©rique 1877445203 AprÃ¨s lâ€™Ã¨re Trump et le Covid, lâ€™AmÃ©rique veut retrouver sa place sur la scÃ¨ne internationale 1878824101 Le Japon, premiÃ¨re digue de lâ€™AmÃ©rique face Ã  la Chine 1888574730 Biden promet des Â«rÃ©sultatsÂ» Ã  lâ€™AmÃ©rique 1889997852 La Fortune des Winczlav ou lâ€™AmÃ©rique sous le vent violent de lâ€™histoire 1890495319 Clint Eastwood,le franc-tireur de lâ€™AmÃ©rique 1891681226 Mort de George Floyd: procÃ¨s Ã  haut risque dans une AmÃ©rique fracturÃ©e 1900048007 Alerte rouge en AmÃ©rique face Ã  la pÃ©nurie de ketchup en sachet 1902503066 Afghanistan: Â«lâ€™heure est venue de mettre fin Ã  la plus longue guerre de lâ€™AmÃ©riqueÂ», dit Biden 1910847219 Â«The cop should have shot the airÂ» : lâ€™AmÃ©rique se divise aprÃ¨s la mort dâ€™une adolescente 1915868003 Face au CongrÃ¨s, Biden vante une AmÃ©rique allant Â«de nouveau de lâ€™avantÂ» 1918543370 Mort dâ€™Eli Broad, un mÃ©cÃ¨ne de lâ€™art grand comme lâ€™AmÃ©rique 1921134029 Quand lâ€™AmÃ©rique vibrait au rythme de Crosby, Stills, Nash &amp; Young 1929497286 Le rail, qui a faÃ§onnÃ© lâ€™AmÃ©rique, a encore un avenir 1952589616 Â«Biden fait passer lâ€™AmÃ©rique en dernierÂ» : le retour de Trump sur scÃ¨ne 1957360393 G7: Macron salue Â«une communautÃ© de valeursÂ» avec lâ€™AmÃ©rique 1978738838 La France repart Ã  la conquÃªte de lâ€™AmÃ©rique avec une nouvelle rÃ©sidence dâ€™artistes aux Ã‰tats-Unis 2002471793 Joe Biden empÃªtrÃ© dans les divisions de lâ€™AmÃ©rique 2009264284 Covid-19 : Joe Biden vante ses efforts pour vacciner le monde et lâ€™AmÃ©rique 2012432930 Avec Cry Macho, Clint Eastwood Ã©branle les certitudes des hÃ©ros fatiguÃ©s de lâ€™AmÃ©rique 2017373629 Lâ€™AmÃ©rique de Biden cherche sa place dans le monde 2018180044 Lâ€™AmÃ©rique sidÃ©rÃ©e par lâ€™ampleur de sa dÃ©faite en Afghanistan 2019726736 1825: Rebecca Lukens, Â«femme dâ€™acierÂ» dans lâ€™AmÃ©rique du rail 2019765482 Lâ€™AmÃ©rique de lâ€™art dans la France dâ€™aprÃ¨s-guerre 2021916024 Afghanistan: lâ€™AmÃ©rique ouvre lâ€™accueil des rÃ©fugiÃ©s 2022111245 Anna Sutherland Bissell, la mÃ©nagÃ¨re devenue premiÃ¨re femme PDG dâ€™AmÃ©rique 2025408607 Le Liban pris en Ã©tau entre lâ€™Iran et lâ€™AmÃ©rique 2029043450 31 aoÃ»t 2021: lâ€™AmÃ©rique sâ€™efface devant les talibans 2039056596 11-Septembre: Ã  New York, le tombeau dâ€™une AmÃ©rique disparue 2040013228 CommÃ©moration des 20 ans du 11-Septembre : lâ€™AmÃ©rique en quÃªte dâ€™unitÃ© 2052124212 Des empreintes vieilles de 23.000 ans rÃ©Ã©crivent lâ€™histoire humaine de lâ€™AmÃ©rique 4.5.1.6 What about the apostroph â€™ ? This example of â€œAmÃ©riqueâ€ reveals another problem which is related to the tokenization. In our example we have found only 20 occurences of â€œAmÃ©riqueâ€ because the dictionary extracted from Wikipedia has not included the textual units â€œlâ€™AmÃ©riqueâ€ which appears in 144 news of the textual unitâ€œdâ€™AmÃ©riqueâ€ which is present in 22 news. We have therefore cleary understimate the real number of mention and the same is cetainly also true for other names of world regions like â€œlâ€™Europeâ€ (477 cases), â€œlâ€™Afriqueâ€ (98 cases), â€œlâ€™Asieâ€ (16 cases). It appears therfore more relevant - at less in the french case - to replace the apostroph by a blank â€¦ 4.6 Tagging function We try therefore to elaborate a function where the user can decide (optionally) to remove the apostroph and/or to use lower case. extract_tags &lt;- function(qd = qd, # the corpus of interest lang = &quot;fr&quot;, # the language to be used dict = dict, # the dictionary of target entities ctrl = ctrl, # the dictionary of entities to be controled split = TRUE, # keep apostrophs ? tolow = FALSE # Tokenize text ) { # Tokenize x&lt;-texts(qd) if(split) { x &lt;- gsub(&quot;&#39;&quot;,&quot; &quot;,x)} if(tolow) { x &lt;- tolower(x)} toks&lt;-tokens(x) # Load dictionaries and create compounds ## Control dictionary ctrl&lt;-ctrl[ctrl$lang==lang &amp; is.na(ctrl$label)==F,] ctrl&lt;-ctrl[ntoken(ctrl$label)&gt;1,] labels &lt;-ctrl$label if(split) {labels&lt;- gsub(&quot;&#39;&quot;,&quot; &quot;,labels)} if(tolow) {labels &lt;- tolower(labels)} toks&lt;-tokens_compound(toks,pattern=phrase(labels)) ## Target dictionary dict&lt;-dict[dict$lang==lang &amp; is.na(dict$label)==F,] target&lt;-dict[ntoken(dict$label)&gt;1,] labels &lt;-dict$label if(split) {labels&lt;- gsub(&quot;&#39;&quot;,&quot; &quot;,labels)} if(tolow) {labels &lt;- tolower(labels)} toks&lt;-tokens_compound(toks,pattern=phrase(labels)) # create quanteda dictionary keys &lt;-gsub(&quot; &quot;,&quot;_&quot;,labels) qd_dict&lt;-as.list(keys) names(qd_dict)&lt;-dict$id qd_dict&lt;-dictionary(qd_dict,tolower = FALSE) # Identify geo tags (states or reg or org ...) toks_tags &lt;- tokens_lookup(toks, qd_dict) toks_tags &lt;- lapply(toks_tags, unique) toks_tags&lt;-as.tokens(toks_tags) list_tags&lt;-function(x){res&lt;-paste(x, collapse=&#39; &#39;)} qd$regs&lt;-as.character(lapply(toks_tags,FUN=list_tags)) qd$nbregs&lt;-ntoken(toks_tags) # Export results return(qd) } 4.6.1 Le Figaro ctrl&lt;-readRDS(&quot;dict/worldreg001_ctrl.RDS&quot;) dict&lt;-readRDS(&quot;dict/worldreg001_dict.RDS&quot;) dict&lt;-dict[dict$id != &quot;Q2017699&quot;,] # Correct Mistake qd &lt;- readRDS(&quot;quanteda/fr_FRA_figaro.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;fr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/fr_FRA_figaro.RDS&quot;) qd1&lt;-qd table(qd$nbregs) 4.6.2 Le Monde qd &lt;- readRDS(&quot;quanteda/fr_FRA_lmonde.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;fr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/fr_FRA_lmonde.RDS&quot;) qd2&lt;-qd table(qd$nbregs) 4.6.3 FAZ qd &lt;- readRDS(&quot;quanteda/de_DEU_frankf.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;de&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/de_DEU_frankf.RDS&quot;) qd3&lt;-qd table(qd$nbregs) 4.6.4 SÃ¼ddeutsche Zeitung qd &lt;- readRDS(&quot;quanteda/de_DEU_suddeu.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;de&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/de_DEU_suddeu.RDS&quot;) qd4&lt;-qd table(qd$nbregs) 4.6.5 Guardian qd &lt;- readRDS(&quot;quanteda/en_GBR_guardi.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;en&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/en_GBR_guardi.RDS&quot;) qd5&lt;-qd table(qd$nbregs) 4.6.6 Daily Telegraph qd &lt;- readRDS(&quot;quanteda/en_GBR_telegr.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;en&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/en_GBR_telegr.RDS&quot;) qd6&lt;-qd table(qd$nbregs) 4.6.7 Belfast Telegraph qd &lt;- readRDS(&quot;quanteda/en_NIR_beltel.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;en&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/en_NIR_beltel.RDS&quot;) qd7&lt;-qd table(qd$nbregs) 4.6.8 Irish Times qd &lt;- readRDS(&quot;quanteda/en_IRL_irtime.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;en&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/en_IRL_irtime.RDS&quot;) qd8&lt;-qd table(qd$nbregs) 4.6.9 Cumhuryet qd &lt;- readRDS(&quot;quanteda/tr_TUR_cumhur.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;tr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/tr_TUR_cumhur.RDS&quot;) qd9&lt;-qd table(qd$nbregs) 4.6.10 Yeni Safak qd &lt;- readRDS(&quot;quanteda/tr_TUR_yenisa.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;tr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/tr_TUR_yenisa.RDS&quot;) qd10&lt;-qd table(qd$nbregs) 4.6.11 Babnet qd &lt;- readRDS(&quot;quanteda/ar_TUN_babnet.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;ar&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/ar_TUN_babnet.RDS&quot;) qd11&lt;-qd table(qd$nbregs) 4.6.12 RÃ©alitÃ©s qd &lt;- readRDS(&quot;quanteda/fr_TUN_realit.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;fr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/fr_TUN_realit.RDS&quot;) qd12&lt;-qd table(qd$nbregs) 4.6.13 Economiste Maghrebin qd &lt;- readRDS(&quot;quanteda/fr_TUN_ecomag.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;fr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/fr_TUN_ecomag.RDS&quot;) qd13&lt;-qd table(qd$nbregs) 4.6.14 La Presse qd &lt;- readRDS(&quot;quanteda/fr_TUN_presse.RDS&quot;) qd &lt;- extract_tags (qd = qd, lang=&quot;fr&quot;, dict = dict, ctrl = ctrl, split = TRUE, tolow = FALSE) saveRDS(qd,&quot;quanteda/fr_TUN_presse.RDS&quot;) qd14&lt;-qd table(qd$nbregs) 4.6.15 Global corpus qd &lt;- c(qd1,qd2,qd3,qd4,qd5,qd6,qd7,qd8,qd9,qd10,qd11,qd12,qd13,qd14) saveRDS(qd,&quot;quanteda/corpus_worldreg_001.RDS&quot;) table(qd$nbregs) second largest continent in the world in terms of area and population, comes second only to Asia.â†©ï¸ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
